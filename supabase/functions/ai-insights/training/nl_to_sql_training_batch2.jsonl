{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"What time did I wake up today? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'HH12:MI AM') AS wake_time FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'wake | wakeup | morning') AND ua.activity_timestamp::date = CURRENT_DATE ORDER BY ua.activity_timestamp LIMIT 1\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Show my basketball games [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity, COALESCE(ua.activity_name_override, '') AS game_name FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'basketball') ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"How many steps did I take this week? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT SUM(uad.numeric_value)::int AS total_steps FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id JOIN activity_detail ad ON ad.activity_id = a.activity_id JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id AND uad.activity_detail_id = ad.activity_detail_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'step | steps | walking') AND ad.label ILIKE '%step%' AND ua.activity_timestamp >= date_trunc('week', CURRENT_DATE - interval '1 day') + interval '1 day'\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"What activities did I do in December? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id WHERE ua.user_id = 'abc-123' AND EXTRACT(month FROM ua.activity_timestamp) = 12 AND EXTRACT(year FROM ua.activity_timestamp) = EXTRACT(year FROM CURRENT_DATE) ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Show my morning activities [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity, to_char(ua.activity_timestamp, 'HH12:MI AM') AS time FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id WHERE ua.user_id = 'abc-123' AND EXTRACT(hour FROM ua.activity_timestamp) BETWEEN 5 AND 11 ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"What's my heart rate during my last run? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT uad.numeric_value AS heart_rate FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id JOIN activity_detail ad ON ad.activity_id = a.activity_id JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id AND uad.activity_detail_id = ad.activity_detail_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'run') AND ad.label ILIKE '%heart%rate%' ORDER BY ua.activity_timestamp DESC LIMIT 1\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"List all my tennis matches [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity, ua.activity_name_override AS match_name, ua.comments FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'tennis') ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"How many hours did I spend exercising this month? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT SUM(uad.duration_in_sec) / 3600.0 AS total_hours FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_category ac ON a.activity_category_id = ac.activity_category_id JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id WHERE ua.user_id = 'abc-123' AND ac.activity_category_code IN ('workouts', 'sports') AND uad.activity_detail_type = 'duration' AND ua.activity_timestamp >= date_trunc('month', CURRENT_DATE)\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Show activities where I set a personal record [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity, ua.comments FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id WHERE ua.user_id = 'abc-123' AND (ua.comments ILIKE '%personal record%' OR ua.comments ILIKE '%PR%' OR ua.comments ILIKE '%PB%' OR ua.comments ILIKE '%personal best%') ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"What's my average cycling distance per ride? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT AVG(uad.distance_in_meters) / 1000.0 AS avg_distance_km FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'cycle | cycling | bike') AND uad.activity_detail_type = 'distance'\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Show my pilates sessions this quarter [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'pilates') AND ua.activity_timestamp >= date_trunc('quarter', CURRENT_DATE) ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"How many laps did I swim? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT SUM(uad.numeric_value)::int AS total_laps FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id JOIN activity_detail ad ON ad.activity_id = a.activity_id JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id AND uad.activity_detail_id = ad.activity_detail_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'swim') AND ad.label ILIKE '%lap%'\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"What activities have I named recovery? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity, ua.activity_name_override FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id WHERE ua.user_id = 'abc-123' AND ua.activity_name_override ILIKE '%recovery%' ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Show my golf rounds [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity, ua.activity_name_override AS course_name, ua.comments FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'golf') ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"What was my slowest run? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, (duration_val / 60.0) / (distance_val / 1000.0) AS pace_min_per_km FROM (SELECT ua.user_activity_id, ua.activity_timestamp, MAX(CASE WHEN ad.activity_detail_type = 'duration' THEN uad.duration_in_sec END) AS duration_val, MAX(CASE WHEN ad.activity_detail_type = 'distance' THEN uad.distance_in_meters END) AS distance_val FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id JOIN activity_detail ad ON uad.activity_detail_id = ad.activity_detail_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'run') AND ad.use_for_pace_calculation = true GROUP BY ua.user_activity_id, ua.activity_timestamp) sub WHERE distance_val > 0 ORDER BY (duration_val / 60.0) / (distance_val / 1000.0) DESC LIMIT 1\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"How consistent am I with morning workouts? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT COUNT(DISTINCT ua.activity_timestamp::date)::int AS morning_workout_days FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_category ac ON a.activity_category_id = ac.activity_category_id WHERE ua.user_id = 'abc-123' AND ac.activity_category_code = 'workouts' AND EXTRACT(hour FROM ua.activity_timestamp) BETWEEN 5 AND 11 AND ua.activity_timestamp >= CURRENT_DATE - interval '30 days'\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"List my climbing sessions [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity, ua.activity_name_override, ua.comments FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'climb | climbing | boulder') ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"What's my total meditation time? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT SUM(uad.duration_in_sec) AS total_seconds FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'meditation | meditate') AND uad.activity_detail_type = 'duration'\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Show activities from last Friday [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id WHERE ua.user_id = 'abc-123' AND ua.activity_timestamp::date = CURRENT_DATE - ((EXTRACT(dow FROM CURRENT_DATE)::int + 2) % 7 + 1)::int ORDER BY ua.activity_timestamp\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"How much protein did I log? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT SUM(uad.numeric_value) AS total_protein FROM user_activity ua JOIN activity_detail ad ON ad.activity_id = ua.activity_id JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id AND uad.activity_detail_id = ad.activity_detail_id WHERE ua.user_id = 'abc-123' AND ad.label ILIKE '%protein%'\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"What activities did I do with my trainer? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity, ua.comments FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id WHERE ua.user_id = 'abc-123' AND (ua.comments ILIKE '%trainer%' OR ua.comments ILIKE '%coach%' OR ua.activity_name_override ILIKE '%trainer%') ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Show my skiing trips [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity, ua.activity_name_override AS location, ua.comments FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'ski | skiing | snowboard') ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"What's my average workout duration? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT AVG(uad.duration_in_sec) AS avg_duration_sec FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_category ac ON a.activity_category_id = ac.activity_category_id JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id WHERE ua.user_id = 'abc-123' AND ac.activity_category_code = 'workouts' AND uad.activity_detail_type = 'duration'\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Show my dance classes [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity, ua.activity_name_override AS class_name FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'dance | dancing | zumba | salsa') ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"How many rest days did I have this month? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT (EXTRACT(day FROM CURRENT_DATE))::int - COUNT(DISTINCT ua.activity_timestamp::date)::int AS rest_days FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_category ac ON a.activity_category_id = ac.activity_category_id WHERE ua.user_id = 'abc-123' AND ac.activity_category_code IN ('workouts', 'sports') AND ua.activity_timestamp >= date_trunc('month', CURRENT_DATE)\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"What activities have location data? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity, uad.lat_lng FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id WHERE ua.user_id = 'abc-123' AND uad.lat_lng IS NOT NULL ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Show my sprint workouts [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN user_activity_sub_activity uasa ON ua.user_activity_id = uasa.user_activity_id JOIN sub_activity sa ON uasa.sub_activity_id = sa.sub_activity_id WHERE ua.user_id = 'abc-123' AND sa.name ILIKE '%sprint%' ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"What's my longest meditation session? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, uad.duration_in_sec AS duration_seconds FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'meditation | meditate') AND uad.activity_detail_type = 'duration' ORDER BY uad.duration_in_sec DESC LIMIT 1\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"How many different activities have I tried? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT COUNT(DISTINCT a.activity_id)::int AS unique_activities FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id WHERE ua.user_id = 'abc-123'\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Show activities I did before breakfast [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity, to_char(ua.activity_timestamp, 'HH12:MI AM') AS time FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id WHERE ua.user_id = 'abc-123' AND EXTRACT(hour FROM ua.activity_timestamp) BETWEEN 5 AND 8 ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"What rowing distance have I covered? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT SUM(uad.distance_in_meters) AS total_meters FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'row | rowing | erg') AND uad.activity_detail_type = 'distance'\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"List activities where I mentioned injury [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity, ua.comments FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id WHERE ua.user_id = 'abc-123' AND (ua.comments ILIKE '%injury%' OR ua.comments ILIKE '%injured%' OR ua.comments ILIKE '%hurt%' OR ua.comments ILIKE '%pain%') ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Show my treadmill runs [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity, uad.distance_in_meters / 1000.0 AS distance_km FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'run | treadmill') AND uad.environment_value = 'indoor' ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"What's my weekly activity streak? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT date_trunc('week', ua.activity_timestamp)::date AS week_start, COUNT(*)::int AS activities, COUNT(DISTINCT ua.activity_timestamp::date)::int AS active_days FROM user_activity ua WHERE ua.user_id = 'abc-123' AND ua.activity_timestamp >= CURRENT_DATE - interval '8 weeks' GROUP BY date_trunc('week', ua.activity_timestamp) ORDER BY week_start DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Show my boxing sessions [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity, ua.activity_name_override, ua.comments FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'box | boxing | kickbox') ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"How many activities did I log on Mondays? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT COUNT(*)::int AS monday_activities FROM user_activity ua WHERE ua.user_id = 'abc-123' AND EXTRACT(dow FROM ua.activity_timestamp) = 1\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"What's my total time in mind body activities? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT SUM(uad.duration_in_sec) AS total_seconds FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_category ac ON a.activity_category_id = ac.activity_category_id JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id WHERE ua.user_id = 'abc-123' AND ac.activity_category_code = 'mind_body' AND uad.activity_detail_type = 'duration'\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Show my group activities [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity, ua.comments FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id WHERE ua.user_id = 'abc-123' AND (ua.comments ILIKE '%group%' OR ua.comments ILIKE '%class%' OR ua.comments ILIKE '%team%' OR ua.activity_name_override ILIKE '%group%') ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"What was my average swim pace last month? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT AVG((duration_val / 60.0) / (distance_val / 100.0)) AS avg_pace_min_per_100m FROM (SELECT ua.user_activity_id, MAX(CASE WHEN ad.activity_detail_type = 'duration' THEN uad.duration_in_sec END) AS duration_val, MAX(CASE WHEN ad.activity_detail_type = 'distance' THEN uad.distance_in_meters END) AS distance_val FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id JOIN activity_detail ad ON uad.activity_detail_id = ad.activity_detail_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'swim') AND ad.use_for_pace_calculation = true AND a.pace_type = 'minutesPer100Uom' AND ua.activity_timestamp >= date_trunc('month', CURRENT_DATE - interval '1 month') AND ua.activity_timestamp < date_trunc('month', CURRENT_DATE) GROUP BY ua.user_activity_id) sub WHERE distance_val > 0\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"List my cardio activities [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'cardio | run | bike | swim | rowing | elliptical') ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Show my soccer games [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity, ua.activity_name_override AS game_name, ua.comments FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'soccer | football') ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"What did I do 2 weeks ago? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id WHERE ua.user_id = 'abc-123' AND ua.activity_timestamp::date >= CURRENT_DATE - interval '14 days' AND ua.activity_timestamp::date < CURRENT_DATE - interval '7 days' ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"How much did I run each month this year? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(date_trunc('month', ua.activity_timestamp), 'Mon YYYY') AS month, SUM(uad.distance_in_meters) / 1000.0 AS total_km, COUNT(*)::int AS run_count FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'run') AND uad.activity_detail_type = 'distance' AND ua.activity_timestamp >= date_trunc('year', CURRENT_DATE) GROUP BY date_trunc('month', ua.activity_timestamp) ORDER BY date_trunc('month', ua.activity_timestamp)\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Show activities with high intensity [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity, ua.comments FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id WHERE ua.user_id = 'abc-123' AND (ua.comments ILIKE '%high intensity%' OR ua.comments ILIKE '%intense%' OR ua.comments ILIKE '%hard%') ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"What's my average rowing pace? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT AVG((duration_val / 60.0) / (distance_val / 500.0)) AS avg_pace_min_per_500m FROM (SELECT ua.user_activity_id, MAX(CASE WHEN ad.activity_detail_type = 'duration' THEN uad.duration_in_sec END) AS duration_val, MAX(CASE WHEN ad.activity_detail_type = 'distance' THEN uad.distance_in_meters END) AS distance_val FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id JOIN activity_detail ad ON uad.activity_detail_id = ad.activity_detail_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'row | rowing') AND ad.use_for_pace_calculation = true AND a.pace_type = 'minutesPer500m' GROUP BY ua.user_activity_id) sub WHERE distance_val > 0\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"List my strength training days [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT DISTINCT to_char(ua.activity_timestamp::date, 'Mon DD, YYYY') AS date FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'strength | weight | lift | resistance') ORDER BY date DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Show evening activities from this week [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity, to_char(ua.activity_timestamp, 'HH12:MI PM') AS time FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id WHERE ua.user_id = 'abc-123' AND EXTRACT(hour FROM ua.activity_timestamp) BETWEEN 17 AND 22 AND ua.activity_timestamp >= date_trunc('week', CURRENT_DATE - interval '1 day') + interval '1 day' ORDER BY ua.activity_timestamp DESC\"}"}]}
