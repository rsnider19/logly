{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Show runs that weren't outdoors [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id LEFT JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id AND uad.environment_value IS NOT NULL WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'run') AND (uad.environment_value IS NULL OR uad.environment_value != 'outdoor') ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"List activities that aren't workouts [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_category ac ON a.activity_category_id = ac.activity_category_id WHERE ua.user_id = 'abc-123' AND ac.activity_category_code != 'workouts' ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Show activities without comments [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id WHERE ua.user_id = 'abc-123' AND (ua.comments IS NULL OR ua.comments = '') ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Which days didn't I work out this week? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT d.day::date AS date FROM generate_series(date_trunc('week', CURRENT_DATE - interval '1 day') + interval '1 day', date_trunc('week', CURRENT_DATE - interval '1 day') + interval '7 days', '1 day'::interval) AS d(day) WHERE d.day::date <= CURRENT_DATE AND d.day::date NOT IN (SELECT DISTINCT ua.activity_timestamp::date FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_category ac ON a.activity_category_id = ac.activity_category_id WHERE ua.user_id = 'abc-123' AND ac.activity_category_code = 'workouts' AND ua.activity_timestamp >= date_trunc('week', CURRENT_DATE - interval '1 day') + interval '1 day')\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Show activities that don't have distance data [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id WHERE ua.user_id = 'abc-123' AND ua.user_activity_id NOT IN (SELECT uad.user_activity_id FROM user_activity_detail uad WHERE uad.activity_detail_type = 'distance' AND uad.distance_in_meters IS NOT NULL) ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"List runs not in the morning [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity, to_char(ua.activity_timestamp, 'HH12:MI AM') AS time FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'run') AND EXTRACT(hour FROM ua.activity_timestamp) NOT BETWEEN 5 AND 11 ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Show activities other than running [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id WHERE ua.user_id = 'abc-123' AND NOT ae.fts @@ to_tsquery('english', 'run') ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"What activities haven't I done this month? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT DISTINCT a.name AS activity FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id WHERE ua.user_id = 'abc-123' AND a.activity_id NOT IN (SELECT ua2.activity_id FROM user_activity ua2 WHERE ua2.user_id = 'abc-123' AND ua2.activity_timestamp >= date_trunc('month', CURRENT_DATE))\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Show activities except sports [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_category ac ON a.activity_category_id = ac.activity_category_id WHERE ua.user_id = 'abc-123' AND ac.activity_category_code != 'sports' ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"List workouts without sub-activities [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_category ac ON a.activity_category_id = ac.activity_category_id WHERE ua.user_id = 'abc-123' AND ac.activity_category_code = 'workouts' AND ua.user_activity_id NOT IN (SELECT uasa.user_activity_id FROM user_activity_sub_activity uasa) ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Show runs under 5km [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity, uad.distance_in_meters / 1000.0 AS distance_km FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'run') AND uad.activity_detail_type = 'distance' AND uad.distance_in_meters < 5000 ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Activities where I didn't mention pain [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id WHERE ua.user_id = 'abc-123' AND (ua.comments IS NULL OR ua.comments NOT ILIKE '%pain%') ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Show activities not on weekends [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id WHERE ua.user_id = 'abc-123' AND EXTRACT(dow FROM ua.activity_timestamp) NOT IN (0, 6) ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"List activities that weren't indoor [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id LEFT JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id AND uad.environment_value IS NOT NULL WHERE ua.user_id = 'abc-123' AND (uad.environment_value IS NULL OR uad.environment_value != 'indoor') ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"How far and how long did I run today? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT SUM(CASE WHEN uad.activity_detail_type = 'distance' THEN uad.distance_in_meters END) / 1000.0 AS total_km, SUM(CASE WHEN uad.activity_detail_type = 'duration' THEN uad.duration_in_sec END) AS total_seconds FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'run') AND ua.activity_timestamp::date = CURRENT_DATE\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"What's my distance and pace for running this week? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT SUM(distance_val) / 1000.0 AS total_km, AVG((duration_val / 60.0) / (distance_val / 1000.0)) AS avg_pace_min_per_km FROM (SELECT ua.user_activity_id, MAX(CASE WHEN ad.activity_detail_type = 'duration' THEN uad.duration_in_sec END) AS duration_val, MAX(CASE WHEN ad.activity_detail_type = 'distance' THEN uad.distance_in_meters END) AS distance_val FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id JOIN activity_detail ad ON uad.activity_detail_id = ad.activity_detail_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'run') AND ad.use_for_pace_calculation = true AND ua.activity_timestamp >= date_trunc('week', CURRENT_DATE - interval '1 day') + interval '1 day' GROUP BY ua.user_activity_id) sub WHERE distance_val > 0\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Show my running and cycling activities [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'run | bike | cycling | cycle') ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"How many workouts and sports activities this month? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT ac.name AS category, COUNT(*)::int AS count FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_category ac ON a.activity_category_id = ac.activity_category_id WHERE ua.user_id = 'abc-123' AND ac.activity_category_code IN ('workouts', 'sports') AND ua.activity_timestamp >= date_trunc('month', CURRENT_DATE) GROUP BY ac.name\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"What's my total time and distance for swimming? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT SUM(CASE WHEN uad.activity_detail_type = 'duration' THEN uad.duration_in_sec END) AS total_seconds, SUM(CASE WHEN uad.activity_detail_type = 'distance' THEN uad.distance_in_meters END) AS total_meters FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'swim')\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Show my yoga and meditation sessions [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'yoga | meditation | meditate') ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"How many activities and unique days this week? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT COUNT(*)::int AS activities, COUNT(DISTINCT ua.activity_timestamp::date)::int AS unique_days FROM user_activity ua WHERE ua.user_id = 'abc-123' AND ua.activity_timestamp >= date_trunc('week', CURRENT_DATE - interval '1 day') + interval '1 day'\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"What's my average and total running distance? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT AVG(uad.distance_in_meters) / 1000.0 AS avg_km, SUM(uad.distance_in_meters) / 1000.0 AS total_km FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'run') AND uad.activity_detail_type = 'distance'\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Show weight lifting and cardio from this week [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'weight | lift | cardio | run | bike | swim') AND ua.activity_timestamp >= date_trunc('week', CURRENT_DATE - interval '1 day') + interval '1 day' ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"What's my fastest and slowest running pace? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT MIN((duration_val / 60.0) / (distance_val / 1000.0)) AS fastest_pace, MAX((duration_val / 60.0) / (distance_val / 1000.0)) AS slowest_pace FROM (SELECT ua.user_activity_id, MAX(CASE WHEN ad.activity_detail_type = 'duration' THEN uad.duration_in_sec END) AS duration_val, MAX(CASE WHEN ad.activity_detail_type = 'distance' THEN uad.distance_in_meters END) AS distance_val FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id JOIN activity_detail ad ON uad.activity_detail_id = ad.activity_detail_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'run') AND ad.use_for_pace_calculation = true GROUP BY ua.user_activity_id) sub WHERE distance_val > 0\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"How long and how far did I walk yesterday? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT SUM(CASE WHEN uad.activity_detail_type = 'duration' THEN uad.duration_in_sec END) AS duration_seconds, SUM(CASE WHEN uad.activity_detail_type = 'distance' THEN uad.distance_in_meters END) / 1000.0 AS distance_km FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'walk') AND ua.activity_timestamp::date = CURRENT_DATE - interval '1 day'\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Show indoor and outdoor workouts [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity, uad.environment_value AS environment FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_category ac ON a.activity_category_id = ac.activity_category_id JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id WHERE ua.user_id = 'abc-123' AND ac.activity_category_code = 'workouts' AND uad.environment_value IN ('indoor', 'outdoor') ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"How many runs and swims this month? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT CASE WHEN ae.fts @@ to_tsquery('english', 'run') THEN 'Running' WHEN ae.fts @@ to_tsquery('english', 'swim') THEN 'Swimming' END AS activity_type, COUNT(*)::int AS count FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id WHERE ua.user_id = 'abc-123' AND (ae.fts @@ to_tsquery('english', 'run') OR ae.fts @@ to_tsquery('english', 'swim')) AND ua.activity_timestamp >= date_trunc('month', CURRENT_DATE) GROUP BY CASE WHEN ae.fts @@ to_tsquery('english', 'run') THEN 'Running' WHEN ae.fts @@ to_tsquery('english', 'swim') THEN 'Swimming' END\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"What's my total calories and workout time today? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT SUM(CASE WHEN ad.label ILIKE '%calorie%' THEN uad.numeric_value END) AS total_calories, SUM(CASE WHEN uad.activity_detail_type = 'duration' THEN uad.duration_in_sec END) AS total_duration_sec FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_category ac ON a.activity_category_id = ac.activity_category_id JOIN activity_detail ad ON ad.activity_id = a.activity_id JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id AND uad.activity_detail_id = ad.activity_detail_id WHERE ua.user_id = 'abc-123' AND ac.activity_category_code = 'workouts' AND ua.activity_timestamp::date = CURRENT_DATE\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"List my stretching and foam rolling sessions [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'stretch | stretching | foam | roll | rolling') ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"What's the count and average duration of my workouts? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT COUNT(DISTINCT ua.user_activity_id)::int AS workout_count, AVG(uad.duration_in_sec) AS avg_duration_sec FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_category ac ON a.activity_category_id = ac.activity_category_id JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id WHERE ua.user_id = 'abc-123' AND ac.activity_category_code = 'workouts' AND uad.activity_detail_type = 'duration'\"}"}]}
