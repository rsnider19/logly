{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"What was my fastest paced run over 4 miles and when was it? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity, uad_dist.distance_in_meters, (uad_dur.duration_in_sec / 60.0) / (uad_dist.distance_in_meters / 1000.0) AS pace_min_per_km FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id JOIN user_activity_detail uad_dist ON ua.user_activity_id = uad_dist.user_activity_id AND uad_dist.activity_detail_type = 'distance' JOIN user_activity_detail uad_dur ON ua.user_activity_id = uad_dur.user_activity_id AND uad_dur.activity_detail_type = 'duration' WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'run') AND uad_dist.distance_in_meters > (4 * 1609.34) ORDER BY pace_min_per_km ASC LIMIT 1\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"How many sick days by year? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT EXTRACT(year FROM ua.activity_timestamp)::int AS year, COUNT(*)::int AS sick_days FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'sick') GROUP BY year ORDER BY year DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"What about in miles? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity, uad.distance_in_meters * 0.000621371 AS distance_miles FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id WHERE ua.user_id = 'abc-123' AND uad.activity_detail_type = 'distance' ORDER BY ua.activity_timestamp DESC LIMIT 1\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"How many alchemy classes per month have I done? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(date_trunc('month', ua.activity_timestamp), 'Mon YYYY') AS month, COUNT(*)::int AS count FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id WHERE ua.user_id = 'abc-123' AND (ua.activity_name_override ILIKE '%alchemy%' OR ua.comments ILIKE '%alchemy%') GROUP BY date_trunc('month', ua.activity_timestamp) ORDER BY date_trunc('month', ua.activity_timestamp) DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"When did I have my baby Toula? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, ua.activity_name_override, ua.comments FROM user_activity ua WHERE ua.user_id = 'abc-123' AND (ua.activity_name_override ILIKE '%baby%toula%' OR ua.comments ILIKE '%baby%toula%') ORDER BY ua.activity_timestamp DESC LIMIT 1\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Tell me about my skiing [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity, ua.comments FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'ski | skiing') ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"What places have I been to in 2025? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT DISTINCT uad.text_value AS location, to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date FROM user_activity ua JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id WHERE ua.user_id = 'abc-123' AND uad.activity_detail_type = 'location' AND EXTRACT(year FROM ua.activity_timestamp) = 2025 ORDER BY date DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Can you calculate my handicap based on my 9 or 18 hole golf rounds? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, uad_holes.numeric_value AS holes, uad_score.numeric_value AS score FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id JOIN user_activity_detail uad_holes ON ua.user_activity_id = uad_holes.user_activity_id AND uad_holes.label ILIKE '%hole%' JOIN user_activity_detail uad_score ON ua.user_activity_id = uad_score.user_activity_id AND uad_score.label ILIKE '%score%' WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'golf') ORDER BY ua.activity_timestamp DESC LIMIT 20\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"How many times did I swim this past year? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT COUNT(*)::int AS swim_count FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'swim') AND ua.activity_timestamp >= CURRENT_DATE - interval '1 year'\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Make a bar graph that shows the days of the week I've worked out for the last year [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Day') AS day_of_week, COUNT(*)::int AS count FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_category ac ON a.activity_category_id = ac.activity_category_id WHERE ua.user_id = 'abc-123' AND ac.activity_category_code = 'workouts' AND ua.activity_timestamp >= CURRENT_DATE - interval '1 year' GROUP BY day_of_week ORDER BY count DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"How many times has sex been logged on logly? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT COUNT(*)::int AS count FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'sex')\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Can you tell me about what others on logly are doing? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT 'I cannot share data about other users due to privacy restrictions.' AS error_message\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Summarize all of the types of HIIT workouts I've done [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT a.name AS workout_type, COUNT(*)::int AS count, MIN(ua.activity_timestamp) AS first_time, MAX(ua.activity_timestamp) AS last_time FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'hiit') GROUP BY a.name ORDER BY count DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"What's the average number of times per week I sit in the sauna and for how long? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT AVG(weekly.count)::numeric(10,2) AS avg_sessions_per_week, AVG(weekly.avg_duration)::numeric(10,2) AS avg_duration_sec FROM (SELECT date_trunc('week', ua.activity_timestamp) AS week, COUNT(*) AS count, AVG(uad.duration_in_sec) AS avg_duration FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'sauna') AND uad.activity_detail_type = 'duration' GROUP BY week) weekly\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Summarize my vacation locations for the year [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT uad.text_value AS location, COUNT(*)::int AS days_spent FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_category ac ON a.activity_category_id = ac.activity_category_id JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id WHERE ua.user_id = 'abc-123' AND ac.activity_category_code = 'experiences' AND uad.activity_detail_type = 'location' AND EXTRACT(year FROM ua.activity_timestamp) = EXTRACT(year FROM CURRENT_DATE) GROUP BY location ORDER BY days_spent DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Any causation or correlations you can find w my sick days? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS sick_date, LAG(a.name) OVER (ORDER BY ua.activity_timestamp) AS previous_activity, ua.comments FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'sick') ORDER BY ua.activity_timestamp DESC LIMIT 10\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Look at all my runs all time. find any over 4 miles. and tell me the fastest pace I logged [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, (uad_dur.duration_in_sec / 60.0) / (uad_dist.distance_in_meters / 1000.0) AS pace_min_per_km, uad_dist.distance_in_meters / 1609.34 AS miles FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id JOIN user_activity_detail uad_dist ON ua.user_activity_id = uad_dist.user_activity_id AND uad_dist.activity_detail_type = 'distance' JOIN user_activity_detail uad_dur ON ua.user_activity_id = uad_dur.user_activity_id AND uad_dur.activity_detail_type = 'duration' WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'run') AND uad_dist.distance_in_meters > (4 * 1609.34) ORDER BY pace_min_per_km ASC LIMIT 1\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"How many HIIT classes in Dec? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT COUNT(*)::int AS count FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'hiit') AND EXTRACT(month FROM ua.activity_timestamp) = 12 AND EXTRACT(year FROM ua.activity_timestamp) = EXTRACT(year FROM CURRENT_DATE)\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"How about Dec year over year comparison [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT EXTRACT(year FROM ua.activity_timestamp)::int AS year, COUNT(*)::int AS count FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'hiit') AND EXTRACT(month FROM ua.activity_timestamp) = 12 GROUP BY year ORDER BY year DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Give me sauna sessions by month for last two years [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(date_trunc('month', ua.activity_timestamp), 'Mon YYYY') AS month, COUNT(*)::int AS count FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'sauna') AND ua.activity_timestamp >= CURRENT_DATE - interval '2 years' GROUP BY date_trunc('month', ua.activity_timestamp) ORDER BY date_trunc('month', ua.activity_timestamp) DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"How many miles have I ran in the past year? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT SUM(uad.distance_in_meters * 0.000621371)::numeric(10,2) AS total_miles FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'run') AND uad.activity_detail_type = 'distance' AND ua.activity_timestamp >= CURRENT_DATE - interval '1 year'\"}"}]}
