{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"How many times did I run this week? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT COUNT(*)::int AS run_count FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'run') AND ua.activity_timestamp >= date_trunc('week', CURRENT_DATE - interval '1 day') + interval '1 day' AND ua.activity_timestamp < date_trunc('week', CURRENT_DATE - interval '1 day') + interval '8 days'\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Show me all my workouts from last month [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_category ac ON a.activity_category_id = ac.activity_category_id WHERE ua.user_id = 'abc-123' AND ac.activity_category_code = 'workouts' AND ua.activity_timestamp >= date_trunc('month', CURRENT_DATE - interval '1 month') AND ua.activity_timestamp < date_trunc('month', CURRENT_DATE) ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"What was my average pace for running? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT AVG((duration_val / 60.0) / (distance_val / 1000.0)) AS avg_pace_min_per_km FROM (SELECT ua.user_activity_id, MAX(CASE WHEN ad.activity_detail_type = 'duration' THEN uad.duration_in_sec END) AS duration_val, MAX(CASE WHEN ad.activity_detail_type = 'distance' THEN uad.distance_in_meters END) AS distance_val FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id JOIN activity_detail ad ON uad.activity_detail_id = ad.activity_detail_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'run') AND ad.use_for_pace_calculation = true AND a.pace_type = 'minutesPerUom' GROUP BY ua.user_activity_id) sub WHERE distance_val > 0\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"How far did I bike yesterday? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT SUM(uad.distance_in_meters) / 1000.0 AS total_distance_km FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'bike | cycling | cycle') AND ua.activity_timestamp::date = CURRENT_DATE - interval '1 day'\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"List my meditation sessions [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity, COALESCE(ua.activity_name_override, '') AS name_override FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'meditation | meditate') ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"How long did I sleep last night? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT uad.duration_in_sec FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'sleep') AND ua.activity_timestamp::date = CURRENT_DATE - interval '1 day' AND uad.activity_detail_type = 'duration' LIMIT 1\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Show my sports activities this year [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_category ac ON a.activity_category_id = ac.activity_category_id WHERE ua.user_id = 'abc-123' AND ac.activity_category_code = 'sports' AND ua.activity_timestamp >= date_trunc('year', CURRENT_DATE) ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"What's my total running distance this month? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT SUM(uad.distance_in_meters) / 1000.0 AS total_km FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'run') AND uad.activity_detail_type = 'distance' AND ua.activity_timestamp >= date_trunc('month', CURRENT_DATE)\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Find my activities where I mentioned marathon [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity, ua.activity_name_override, ua.comments FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id WHERE ua.user_id = 'abc-123' AND (ua.comments ILIKE '%marathon%' OR ua.activity_name_override ILIKE '%marathon%') ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"How many mind body activities did I do? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT COUNT(*)::int AS count FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_category ac ON a.activity_category_id = ac.activity_category_id WHERE ua.user_id = 'abc-123' AND ac.activity_category_code = 'mind_body'\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Show my swimming pace for this week [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, (duration_val / 60.0) / (distance_val / 100.0) AS pace_min_per_100m FROM (SELECT ua.user_activity_id, ua.activity_timestamp, MAX(CASE WHEN ad.activity_detail_type = 'duration' THEN uad.duration_in_sec END) AS duration_val, MAX(CASE WHEN ad.activity_detail_type = 'distance' THEN uad.distance_in_meters END) AS distance_val FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id JOIN activity_detail ad ON uad.activity_detail_id = ad.activity_detail_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'swim') AND ad.use_for_pace_calculation = true AND a.pace_type = 'minutesPer100Uom' AND ua.activity_timestamp >= date_trunc('week', CURRENT_DATE - interval '1 day') + interval '1 day' GROUP BY ua.user_activity_id, ua.activity_timestamp) sub WHERE distance_val > 0 ORDER BY activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"What outdoor activities did I do? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id WHERE ua.user_id = 'abc-123' AND uad.environment_value = 'outdoor' ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"How much water did I drink today? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT SUM(uad.liquid_volume_in_liters) AS total_liters FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'water | hydration | drink') AND ua.activity_timestamp::date = CURRENT_DATE\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Show my weight lifting sessions with HIIT [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity, sa.name AS sub_activity FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id JOIN user_activity_sub_activity uasa ON ua.user_activity_id = uasa.user_activity_id JOIN sub_activity sa ON uasa.sub_activity_id = sa.sub_activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'weight | lifting | strength') AND sa.name ILIKE '%HIIT%' ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"What was my longest run? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, uad.distance_in_meters / 1000.0 AS distance_km FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'run') AND uad.activity_detail_type = 'distance' ORDER BY uad.distance_in_meters DESC LIMIT 1\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"How many experiences have I logged? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT COUNT(*)::int AS count FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_category ac ON a.activity_category_id = ac.activity_category_id WHERE ua.user_id = 'abc-123' AND ac.activity_category_code = 'experiences'\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Show my rowing pace for the last 30 days [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, (duration_val / 60.0) / (distance_val / 500.0) AS pace_min_per_500m FROM (SELECT ua.user_activity_id, ua.activity_timestamp, MAX(CASE WHEN ad.activity_detail_type = 'duration' THEN uad.duration_in_sec END) AS duration_val, MAX(CASE WHEN ad.activity_detail_type = 'distance' THEN uad.distance_in_meters END) AS distance_val FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id JOIN activity_detail ad ON uad.activity_detail_id = ad.activity_detail_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'row | rowing') AND ad.use_for_pace_calculation = true AND a.pace_type = 'minutesPer500m' AND ua.activity_timestamp >= CURRENT_DATE - interval '30 days' GROUP BY ua.user_activity_id, ua.activity_timestamp) sub WHERE distance_val > 0 ORDER BY activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"List my health activities [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_category ac ON a.activity_category_id = ac.activity_category_id WHERE ua.user_id = 'abc-123' AND ac.activity_category_code = 'health' ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"What activities did I log on January 1st 2025? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id WHERE ua.user_id = 'abc-123' AND ua.activity_timestamp::date = '2025-01-01' ORDER BY ua.activity_timestamp\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"How many activities did I log each day this week? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp::date, 'Mon DD, YYYY') AS date, COUNT(*)::int AS count FROM user_activity ua WHERE ua.user_id = 'abc-123' AND ua.activity_timestamp >= date_trunc('week', CURRENT_DATE - interval '1 day') + interval '1 day' AND ua.activity_timestamp < date_trunc('week', CURRENT_DATE - interval '1 day') + interval '8 days' GROUP BY ua.activity_timestamp::date ORDER BY ua.activity_timestamp::date\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Find activities where I noted feeling tired [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity, ua.comments FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id WHERE ua.user_id = 'abc-123' AND ua.comments ILIKE '%tired%' ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"What's my fastest running pace? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT MIN((duration_val / 60.0) / (distance_val / 1000.0)) AS fastest_pace_min_per_km FROM (SELECT ua.user_activity_id, MAX(CASE WHEN ad.activity_detail_type = 'duration' THEN uad.duration_in_sec END) AS duration_val, MAX(CASE WHEN ad.activity_detail_type = 'distance' THEN uad.distance_in_meters END) AS distance_val FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id JOIN activity_detail ad ON uad.activity_detail_id = ad.activity_detail_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'run') AND ad.use_for_pace_calculation = true AND a.pace_type = 'minutesPerUom' GROUP BY ua.user_activity_id) sub WHERE distance_val > 0\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Show all my yoga sessions [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity, COALESCE(ua.activity_name_override, '') AS session_name FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'yoga') ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"How much did I lift in total this week? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT SUM(uad.weight_in_kilograms) AS total_kg FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'weight | lift | strength') AND ua.activity_timestamp >= date_trunc('week', CURRENT_DATE - interval '1 day') + interval '1 day'\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"What's my total exercise time today? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT SUM(uad.duration_in_sec) AS total_seconds FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_category ac ON a.activity_category_id = ac.activity_category_id JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id WHERE ua.user_id = 'abc-123' AND ac.activity_category_code IN ('workouts', 'sports') AND ua.activity_timestamp::date = CURRENT_DATE AND uad.activity_detail_type = 'duration'\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Show my activities from the park [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity, ua.comments FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id WHERE ua.user_id = 'abc-123' AND (ua.comments ILIKE '%park%' OR ua.activity_name_override ILIKE '%park%') ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"How many days did I exercise last month? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT COUNT(DISTINCT ua.activity_timestamp::date)::int AS days FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_category ac ON a.activity_category_id = ac.activity_category_id WHERE ua.user_id = 'abc-123' AND ac.activity_category_code IN ('workouts', 'sports') AND ua.activity_timestamp >= date_trunc('month', CURRENT_DATE - interval '1 month') AND ua.activity_timestamp < date_trunc('month', CURRENT_DATE)\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"What indoor activities have I done? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id WHERE ua.user_id = 'abc-123' AND uad.environment_value = 'indoor' ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"List my recent activities [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id WHERE ua.user_id = 'abc-123' ORDER BY ua.activity_timestamp DESC LIMIT 10\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"What's my average sleep duration? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT AVG(uad.duration_in_sec) AS avg_sleep_seconds FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'sleep') AND uad.activity_detail_type = 'duration'\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Show activities I named morning routine [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity, ua.activity_name_override FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id WHERE ua.user_id = 'abc-123' AND ua.activity_name_override ILIKE '%morning routine%' ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"How many calories did I burn this week? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT SUM(uad.numeric_value) AS total_calories FROM user_activity ua JOIN activity_detail ad ON ad.activity_id = ua.activity_id JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id AND uad.activity_detail_id = ad.activity_detail_id WHERE ua.user_id = 'abc-123' AND ad.label ILIKE '%calorie%' AND ua.activity_timestamp >= date_trunc('week', CURRENT_DATE - interval '1 day') + interval '1 day'\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"What was my best swimming time? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT MIN(uad.duration_in_sec) AS best_time_seconds, to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'swim') AND uad.activity_detail_type = 'duration' GROUP BY ua.activity_timestamp ORDER BY MIN(uad.duration_in_sec) LIMIT 1\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Show me activities where I did intervals [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity, sa.name AS sub_activity FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN user_activity_sub_activity uasa ON ua.user_activity_id = uasa.user_activity_id JOIN sub_activity sa ON uasa.sub_activity_id = sa.sub_activity_id WHERE ua.user_id = 'abc-123' AND sa.name ILIKE '%interval%' ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"What's my weekly activity count for this month? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT date_trunc('week', ua.activity_timestamp)::date AS week_start, COUNT(*)::int AS count FROM user_activity ua WHERE ua.user_id = 'abc-123' AND ua.activity_timestamp >= date_trunc('month', CURRENT_DATE) GROUP BY date_trunc('week', ua.activity_timestamp) ORDER BY week_start\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Show my hiking activities with elevation [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity, uad.numeric_value AS elevation FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id JOIN activity_detail ad ON ad.activity_id = a.activity_id JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id AND uad.activity_detail_id = ad.activity_detail_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'hike | hiking') AND ad.label ILIKE '%elevation%' ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Which activities have I done the most? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT a.name AS activity, COUNT(*)::int AS count FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id WHERE ua.user_id = 'abc-123' GROUP BY a.name ORDER BY count DESC LIMIT 10\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"How far did I walk last week? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT SUM(uad.distance_in_meters) / 1000.0 AS total_km FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'walk') AND uad.activity_detail_type = 'distance' AND ua.activity_timestamp >= date_trunc('week', CURRENT_DATE - interval '1 day') + interval '1 day' - interval '1 week' AND ua.activity_timestamp < date_trunc('week', CURRENT_DATE - interval '1 day') + interval '1 day'\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Show my pace trend for running over the last 3 months [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, (duration_val / 60.0) / (distance_val / 1000.0) AS pace_min_per_km FROM (SELECT ua.user_activity_id, ua.activity_timestamp, MAX(CASE WHEN ad.activity_detail_type = 'duration' THEN uad.duration_in_sec END) AS duration_val, MAX(CASE WHEN ad.activity_detail_type = 'distance' THEN uad.distance_in_meters END) AS distance_val FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id JOIN activity_detail ad ON uad.activity_detail_id = ad.activity_detail_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'run') AND ad.use_for_pace_calculation = true AND a.pace_type = 'minutesPerUom' AND ua.activity_timestamp >= CURRENT_DATE - interval '3 months' GROUP BY ua.user_activity_id, ua.activity_timestamp) sub WHERE distance_val > 0 ORDER BY activity_timestamp\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"What other activities did I do today? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_category ac ON a.activity_category_id = ac.activity_category_id WHERE ua.user_id = 'abc-123' AND ac.activity_category_code = 'others' AND ua.activity_timestamp::date = CURRENT_DATE ORDER BY ua.activity_timestamp\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Find activities where I felt great [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity, ua.comments FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id WHERE ua.user_id = 'abc-123' AND ua.comments ILIKE '%great%' ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"What's my total distance across all activities this year? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT SUM(uad.distance_in_meters) / 1000.0 AS total_km FROM user_activity ua JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id WHERE ua.user_id = 'abc-123' AND uad.activity_detail_type = 'distance' AND ua.activity_timestamp >= date_trunc('year', CURRENT_DATE)\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Show my stretching routine activities [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity, COALESCE(ua.activity_name_override, '') AS routine_name FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'stretch | stretching') ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"How long was my last workout? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT uad.duration_in_sec FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_category ac ON a.activity_category_id = ac.activity_category_id JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id WHERE ua.user_id = 'abc-123' AND ac.activity_category_code = 'workouts' AND uad.activity_detail_type = 'duration' ORDER BY ua.activity_timestamp DESC LIMIT 1\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Compare my running this month vs last month [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT CASE WHEN ua.activity_timestamp >= date_trunc('month', CURRENT_DATE) THEN 'This Month' ELSE 'Last Month' END AS period, COUNT(*)::int AS run_count, SUM(uad.distance_in_meters) / 1000.0 AS total_km FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id LEFT JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id AND uad.activity_detail_type = 'distance' WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'run') AND ua.activity_timestamp >= date_trunc('month', CURRENT_DATE - interval '1 month') GROUP BY CASE WHEN ua.activity_timestamp >= date_trunc('month', CURRENT_DATE) THEN 'This Month' ELSE 'Last Month' END ORDER BY period DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Show activities with comments [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity, ua.comments FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id WHERE ua.user_id = 'abc-123' AND ua.comments IS NOT NULL AND ua.comments != '' ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"What did I do on the weekend? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id WHERE ua.user_id = 'abc-123' AND EXTRACT(dow FROM ua.activity_timestamp) IN (0, 6) AND ua.activity_timestamp >= CURRENT_DATE - interval '7 days' ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Show my cycling activities with sub-activities [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity, string_agg(sa.name, ', ') AS sub_activities FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id LEFT JOIN user_activity_sub_activity uasa ON ua.user_activity_id = uasa.user_activity_id LEFT JOIN sub_activity sa ON uasa.sub_activity_id = sa.sub_activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'cycle | cycling | bike') GROUP BY ua.user_activity_id, ua.activity_timestamp, a.name ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"What time did I wake up today? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'HH12:MI AM') AS wake_time FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'wake | wakeup | morning') AND ua.activity_timestamp::date = CURRENT_DATE ORDER BY ua.activity_timestamp LIMIT 1\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Show my basketball games [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity, COALESCE(ua.activity_name_override, '') AS game_name FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'basketball') ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"How many steps did I take this week? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT SUM(uad.numeric_value)::int AS total_steps FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id JOIN activity_detail ad ON ad.activity_id = a.activity_id JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id AND uad.activity_detail_id = ad.activity_detail_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'step | steps | walking') AND ad.label ILIKE '%step%' AND ua.activity_timestamp >= date_trunc('week', CURRENT_DATE - interval '1 day') + interval '1 day'\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"What activities did I do in December? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id WHERE ua.user_id = 'abc-123' AND EXTRACT(month FROM ua.activity_timestamp) = 12 AND EXTRACT(year FROM ua.activity_timestamp) = EXTRACT(year FROM CURRENT_DATE) ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Show my morning activities [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity, to_char(ua.activity_timestamp, 'HH12:MI AM') AS time FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id WHERE ua.user_id = 'abc-123' AND EXTRACT(hour FROM ua.activity_timestamp) BETWEEN 5 AND 11 ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"What's my heart rate during my last run? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT uad.numeric_value AS heart_rate FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id JOIN activity_detail ad ON ad.activity_id = a.activity_id JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id AND uad.activity_detail_id = ad.activity_detail_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'run') AND ad.label ILIKE '%heart%rate%' ORDER BY ua.activity_timestamp DESC LIMIT 1\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"List all my tennis matches [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity, ua.activity_name_override AS match_name, ua.comments FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'tennis') ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"How many hours did I spend exercising this month? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT SUM(uad.duration_in_sec) / 3600.0 AS total_hours FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_category ac ON a.activity_category_id = ac.activity_category_id JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id WHERE ua.user_id = 'abc-123' AND ac.activity_category_code IN ('workouts', 'sports') AND uad.activity_detail_type = 'duration' AND ua.activity_timestamp >= date_trunc('month', CURRENT_DATE)\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Show activities where I set a personal record [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity, ua.comments FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id WHERE ua.user_id = 'abc-123' AND (ua.comments ILIKE '%personal record%' OR ua.comments ILIKE '%PR%' OR ua.comments ILIKE '%PB%' OR ua.comments ILIKE '%personal best%') ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"What's my average cycling distance per ride? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT AVG(uad.distance_in_meters) / 1000.0 AS avg_distance_km FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'cycle | cycling | bike') AND uad.activity_detail_type = 'distance'\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Show my pilates sessions this quarter [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'pilates') AND ua.activity_timestamp >= date_trunc('quarter', CURRENT_DATE) ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"How many laps did I swim? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT SUM(uad.numeric_value)::int AS total_laps FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id JOIN activity_detail ad ON ad.activity_id = a.activity_id JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id AND uad.activity_detail_id = ad.activity_detail_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'swim') AND ad.label ILIKE '%lap%'\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"What activities have I named recovery? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity, ua.activity_name_override FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id WHERE ua.user_id = 'abc-123' AND ua.activity_name_override ILIKE '%recovery%' ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Show my golf rounds [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity, ua.activity_name_override AS course_name, ua.comments FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'golf') ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"What was my slowest run? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, (duration_val / 60.0) / (distance_val / 1000.0) AS pace_min_per_km FROM (SELECT ua.user_activity_id, ua.activity_timestamp, MAX(CASE WHEN ad.activity_detail_type = 'duration' THEN uad.duration_in_sec END) AS duration_val, MAX(CASE WHEN ad.activity_detail_type = 'distance' THEN uad.distance_in_meters END) AS distance_val FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id JOIN activity_detail ad ON uad.activity_detail_id = ad.activity_detail_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'run') AND ad.use_for_pace_calculation = true GROUP BY ua.user_activity_id, ua.activity_timestamp) sub WHERE distance_val > 0 ORDER BY (duration_val / 60.0) / (distance_val / 1000.0) DESC LIMIT 1\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"How consistent am I with morning workouts? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT COUNT(DISTINCT ua.activity_timestamp::date)::int AS morning_workout_days FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_category ac ON a.activity_category_id = ac.activity_category_id WHERE ua.user_id = 'abc-123' AND ac.activity_category_code = 'workouts' AND EXTRACT(hour FROM ua.activity_timestamp) BETWEEN 5 AND 11 AND ua.activity_timestamp >= CURRENT_DATE - interval '30 days'\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"List my climbing sessions [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity, ua.activity_name_override, ua.comments FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'climb | climbing | boulder') ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"What's my total meditation time? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT SUM(uad.duration_in_sec) AS total_seconds FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'meditation | meditate') AND uad.activity_detail_type = 'duration'\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Show activities from last Friday [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id WHERE ua.user_id = 'abc-123' AND ua.activity_timestamp::date = CURRENT_DATE - ((EXTRACT(dow FROM CURRENT_DATE)::int + 2) % 7 + 1)::int ORDER BY ua.activity_timestamp\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"How much protein did I log? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT SUM(uad.numeric_value) AS total_protein FROM user_activity ua JOIN activity_detail ad ON ad.activity_id = ua.activity_id JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id AND uad.activity_detail_id = ad.activity_detail_id WHERE ua.user_id = 'abc-123' AND ad.label ILIKE '%protein%'\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"What activities did I do with my trainer? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity, ua.comments FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id WHERE ua.user_id = 'abc-123' AND (ua.comments ILIKE '%trainer%' OR ua.comments ILIKE '%coach%' OR ua.activity_name_override ILIKE '%trainer%') ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Show my skiing trips [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity, ua.activity_name_override AS location, ua.comments FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'ski | skiing | snowboard') ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"What's my average workout duration? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT AVG(uad.duration_in_sec) AS avg_duration_sec FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_category ac ON a.activity_category_id = ac.activity_category_id JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id WHERE ua.user_id = 'abc-123' AND ac.activity_category_code = 'workouts' AND uad.activity_detail_type = 'duration'\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Show my dance classes [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity, ua.activity_name_override AS class_name FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'dance | dancing | zumba | salsa') ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"How many rest days did I have this month? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT (EXTRACT(day FROM CURRENT_DATE))::int - COUNT(DISTINCT ua.activity_timestamp::date)::int AS rest_days FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_category ac ON a.activity_category_id = ac.activity_category_id WHERE ua.user_id = 'abc-123' AND ac.activity_category_code IN ('workouts', 'sports') AND ua.activity_timestamp >= date_trunc('month', CURRENT_DATE)\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"What activities have location data? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity, uad.lat_lng FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id WHERE ua.user_id = 'abc-123' AND uad.lat_lng IS NOT NULL ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Show my sprint workouts [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN user_activity_sub_activity uasa ON ua.user_activity_id = uasa.user_activity_id JOIN sub_activity sa ON uasa.sub_activity_id = sa.sub_activity_id WHERE ua.user_id = 'abc-123' AND sa.name ILIKE '%sprint%' ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"What's my longest meditation session? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, uad.duration_in_sec AS duration_seconds FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'meditation | meditate') AND uad.activity_detail_type = 'duration' ORDER BY uad.duration_in_sec DESC LIMIT 1\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"How many different activities have I tried? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT COUNT(DISTINCT a.activity_id)::int AS unique_activities FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id WHERE ua.user_id = 'abc-123'\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Show activities I did before breakfast [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity, to_char(ua.activity_timestamp, 'HH12:MI AM') AS time FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id WHERE ua.user_id = 'abc-123' AND EXTRACT(hour FROM ua.activity_timestamp) BETWEEN 5 AND 8 ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"What rowing distance have I covered? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT SUM(uad.distance_in_meters) AS total_meters FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'row | rowing | erg') AND uad.activity_detail_type = 'distance'\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"List activities where I mentioned injury [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity, ua.comments FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id WHERE ua.user_id = 'abc-123' AND (ua.comments ILIKE '%injury%' OR ua.comments ILIKE '%injured%' OR ua.comments ILIKE '%hurt%' OR ua.comments ILIKE '%pain%') ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Show my treadmill runs [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity, uad.distance_in_meters / 1000.0 AS distance_km FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'run | treadmill') AND uad.environment_value = 'indoor' ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"What's my weekly activity streak? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT date_trunc('week', ua.activity_timestamp)::date AS week_start, COUNT(*)::int AS activities, COUNT(DISTINCT ua.activity_timestamp::date)::int AS active_days FROM user_activity ua WHERE ua.user_id = 'abc-123' AND ua.activity_timestamp >= CURRENT_DATE - interval '8 weeks' GROUP BY date_trunc('week', ua.activity_timestamp) ORDER BY week_start DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Show my boxing sessions [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity, ua.activity_name_override, ua.comments FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'box | boxing | kickbox') ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"How many activities did I log on Mondays? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT COUNT(*)::int AS monday_activities FROM user_activity ua WHERE ua.user_id = 'abc-123' AND EXTRACT(dow FROM ua.activity_timestamp) = 1\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"What's my total time in mind body activities? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT SUM(uad.duration_in_sec) AS total_seconds FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_category ac ON a.activity_category_id = ac.activity_category_id JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id WHERE ua.user_id = 'abc-123' AND ac.activity_category_code = 'mind_body' AND uad.activity_detail_type = 'duration'\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Show my group activities [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity, ua.comments FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id WHERE ua.user_id = 'abc-123' AND (ua.comments ILIKE '%group%' OR ua.comments ILIKE '%class%' OR ua.comments ILIKE '%team%' OR ua.activity_name_override ILIKE '%group%') ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"What was my average swim pace last month? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT AVG((duration_val / 60.0) / (distance_val / 100.0)) AS avg_pace_min_per_100m FROM (SELECT ua.user_activity_id, MAX(CASE WHEN ad.activity_detail_type = 'duration' THEN uad.duration_in_sec END) AS duration_val, MAX(CASE WHEN ad.activity_detail_type = 'distance' THEN uad.distance_in_meters END) AS distance_val FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id JOIN activity_detail ad ON uad.activity_detail_id = ad.activity_detail_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'swim') AND ad.use_for_pace_calculation = true AND a.pace_type = 'minutesPer100Uom' AND ua.activity_timestamp >= date_trunc('month', CURRENT_DATE - interval '1 month') AND ua.activity_timestamp < date_trunc('month', CURRENT_DATE) GROUP BY ua.user_activity_id) sub WHERE distance_val > 0\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"List my cardio activities [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'cardio | run | bike | swim | rowing | elliptical') ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Show my soccer games [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity, ua.activity_name_override AS game_name, ua.comments FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'soccer | football') ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"What did I do 2 weeks ago? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id WHERE ua.user_id = 'abc-123' AND ua.activity_timestamp::date >= CURRENT_DATE - interval '14 days' AND ua.activity_timestamp::date < CURRENT_DATE - interval '7 days' ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"How much did I run each month this year? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(date_trunc('month', ua.activity_timestamp), 'Mon YYYY') AS month, SUM(uad.distance_in_meters) / 1000.0 AS total_km, COUNT(*)::int AS run_count FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'run') AND uad.activity_detail_type = 'distance' AND ua.activity_timestamp >= date_trunc('year', CURRENT_DATE) GROUP BY date_trunc('month', ua.activity_timestamp) ORDER BY date_trunc('month', ua.activity_timestamp)\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Show activities with high intensity [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity, ua.comments FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id WHERE ua.user_id = 'abc-123' AND (ua.comments ILIKE '%high intensity%' OR ua.comments ILIKE '%intense%' OR ua.comments ILIKE '%hard%') ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"What's my average rowing pace? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT AVG((duration_val / 60.0) / (distance_val / 500.0)) AS avg_pace_min_per_500m FROM (SELECT ua.user_activity_id, MAX(CASE WHEN ad.activity_detail_type = 'duration' THEN uad.duration_in_sec END) AS duration_val, MAX(CASE WHEN ad.activity_detail_type = 'distance' THEN uad.distance_in_meters END) AS distance_val FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id JOIN activity_detail ad ON uad.activity_detail_id = ad.activity_detail_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'row | rowing') AND ad.use_for_pace_calculation = true AND a.pace_type = 'minutesPer500m' GROUP BY ua.user_activity_id) sub WHERE distance_val > 0\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"List my strength training days [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT DISTINCT to_char(ua.activity_timestamp::date, 'Mon DD, YYYY') AS date FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'strength | weight | lift | resistance') ORDER BY date DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Show evening activities from this week [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity, to_char(ua.activity_timestamp, 'HH12:MI PM') AS time FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id WHERE ua.user_id = 'abc-123' AND EXTRACT(hour FROM ua.activity_timestamp) BETWEEN 17 AND 22 AND ua.activity_timestamp >= date_trunc('week', CURRENT_DATE - interval '1 day') + interval '1 day' ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"What's the longest I've slept? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, uad.duration_in_sec AS duration_seconds FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'sleep') AND uad.activity_detail_type = 'duration' ORDER BY uad.duration_in_sec DESC LIMIT 1\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Show my activities by category [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT ac.name AS category, COUNT(*)::int AS count FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_category ac ON a.activity_category_id = ac.activity_category_id WHERE ua.user_id = 'abc-123' GROUP BY ac.name ORDER BY count DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"How many runs over 5km have I done? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT COUNT(*)::int AS runs_over_5km FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'run') AND uad.activity_detail_type = 'distance' AND uad.distance_in_meters >= 5000\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"What activities did I do at the gym? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id WHERE ua.user_id = 'abc-123' AND (ua.comments ILIKE '%gym%' OR ua.activity_name_override ILIKE '%gym%') ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Show my 10 most recent workouts [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_category ac ON a.activity_category_id = ac.activity_category_id WHERE ua.user_id = 'abc-123' AND ac.activity_category_code = 'workouts' ORDER BY ua.activity_timestamp DESC LIMIT 10\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"What's my cycling frequency per week? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(date_trunc('week', ua.activity_timestamp), 'Mon DD, YYYY') AS week_start, COUNT(*)::int AS rides FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'cycle | cycling | bike') AND ua.activity_timestamp >= CURRENT_DATE - interval '12 weeks' GROUP BY date_trunc('week', ua.activity_timestamp) ORDER BY week_start\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"List my foam rolling sessions [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'foam | roll | rolling | recovery') ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Show my activities from new years day [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id WHERE ua.user_id = 'abc-123' AND ua.activity_timestamp::date = date_trunc('year', CURRENT_DATE)::date ORDER BY ua.activity_timestamp\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"How many sets did I do in my last weight session? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT uad.numeric_value AS sets FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id JOIN activity_detail ad ON ad.activity_id = a.activity_id JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id AND uad.activity_detail_id = ad.activity_detail_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'weight | strength | lift') AND ad.label ILIKE '%set%' ORDER BY ua.activity_timestamp DESC LIMIT 1\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"What's my total workout count? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT COUNT(*)::int AS total_workouts FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_category ac ON a.activity_category_id = ac.activity_category_id WHERE ua.user_id = 'abc-123' AND ac.activity_category_code = 'workouts'\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Show activities where I used the track [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity, ua.comments FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id WHERE ua.user_id = 'abc-123' AND (ua.comments ILIKE '%track%' OR ua.activity_name_override ILIKE '%track%') ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"What's my average steps per day? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT AVG(daily_steps)::int AS avg_steps_per_day FROM (SELECT ua.activity_timestamp::date AS date, SUM(uad.numeric_value) AS daily_steps FROM user_activity ua JOIN activity_detail ad ON ad.activity_id = ua.activity_id JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id AND uad.activity_detail_id = ad.activity_detail_id WHERE ua.user_id = 'abc-123' AND ad.label ILIKE '%step%' GROUP BY ua.activity_timestamp::date) sub\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Show my marathon training runs [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity, uad.distance_in_meters / 1000.0 AS distance_km, ua.comments FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'run') AND (ua.comments ILIKE '%marathon%' OR ua.activity_name_override ILIKE '%marathon%') AND uad.activity_detail_type = 'distance' ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"How long have I spent stretching this week? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT SUM(uad.duration_in_sec) AS total_seconds FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'stretch | stretching') AND uad.activity_detail_type = 'duration' AND ua.activity_timestamp >= date_trunc('week', CURRENT_DATE - interval '1 day') + interval '1 day'\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"What activities include tempo sub-activity? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity, sa.name AS sub_activity FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN user_activity_sub_activity uasa ON ua.user_activity_id = uasa.user_activity_id JOIN sub_activity sa ON uasa.sub_activity_id = sa.sub_activity_id WHERE ua.user_id = 'abc-123' AND sa.name ILIKE '%tempo%' ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Show my first activity ever [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id WHERE ua.user_id = 'abc-123' ORDER BY ua.activity_timestamp ASC LIMIT 1\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"What's my best 5k time? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT MIN(uad.duration_in_sec) AS best_time_seconds, to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id JOIN user_activity_detail uad2 ON ua.user_activity_id = uad2.user_activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'run') AND uad.activity_detail_type = 'duration' AND uad2.activity_detail_type = 'distance' AND uad2.distance_in_meters BETWEEN 4900 AND 5100 GROUP BY ua.activity_timestamp ORDER BY MIN(uad.duration_in_sec) LIMIT 1\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"List my trips outdoors [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity, ua.activity_name_override FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id WHERE ua.user_id = 'abc-123' AND uad.environment_value = 'outdoor' ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Show activities with distance over 10km [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity, uad.distance_in_meters / 1000.0 AS distance_km FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id WHERE ua.user_id = 'abc-123' AND uad.activity_detail_type = 'distance' AND uad.distance_in_meters > 10000 ORDER BY uad.distance_in_meters DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"What sports did I play last weekend? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_category ac ON a.activity_category_id = ac.activity_category_id WHERE ua.user_id = 'abc-123' AND ac.activity_category_code = 'sports' AND ua.activity_timestamp >= date_trunc('week', CURRENT_DATE - interval '1 day') - interval '6 days' AND EXTRACT(dow FROM ua.activity_timestamp) IN (0, 6) ORDER BY ua.activity_timestamp\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"How many activities per day did I average this month? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT ROUND(COUNT(*)::numeric / EXTRACT(day FROM CURRENT_DATE), 2) AS avg_per_day FROM user_activity ua WHERE ua.user_id = 'abc-123' AND ua.activity_timestamp >= date_trunc('month', CURRENT_DATE)\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Show my cooldown activities [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN user_activity_sub_activity uasa ON ua.user_activity_id = uasa.user_activity_id JOIN sub_activity sa ON uasa.sub_activity_id = sa.sub_activity_id WHERE ua.user_id = 'abc-123' AND sa.name ILIKE '%cooldown%' ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"What's my pace improvement for running? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, (duration_val / 60.0) / (distance_val / 1000.0) AS pace_min_per_km FROM (SELECT ua.user_activity_id, ua.activity_timestamp, MAX(CASE WHEN ad.activity_detail_type = 'duration' THEN uad.duration_in_sec END) AS duration_val, MAX(CASE WHEN ad.activity_detail_type = 'distance' THEN uad.distance_in_meters END) AS distance_val FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id JOIN activity_detail ad ON uad.activity_detail_id = ad.activity_detail_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'run') AND ad.use_for_pace_calculation = true GROUP BY ua.user_activity_id, ua.activity_timestamp) sub WHERE distance_val > 0 ORDER BY activity_timestamp ASC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"List activities tagged as easy [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity, ua.comments FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id WHERE ua.user_id = 'abc-123' AND (ua.comments ILIKE '%easy%' OR ua.comments ILIKE '%light%' OR ua.comments ILIKE '%recovery%') ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Show my Peloton rides [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity, ua.activity_name_override FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id WHERE ua.user_id = 'abc-123' AND (ua.comments ILIKE '%peloton%' OR ua.activity_name_override ILIKE '%peloton%') ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"What's my total active time today? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT SUM(uad.duration_in_sec) AS total_seconds FROM user_activity ua JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id WHERE ua.user_id = 'abc-123' AND ua.activity_timestamp::date = CURRENT_DATE AND uad.activity_detail_type = 'duration'\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"How many yoga sessions this year? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT COUNT(*)::int AS yoga_count FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'yoga') AND ua.activity_timestamp >= date_trunc('year', CURRENT_DATE)\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Show activities on my birthday [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id WHERE ua.user_id = 'abc-123' AND (ua.comments ILIKE '%birthday%' OR ua.activity_name_override ILIKE '%birthday%') ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"What's my most active day of the week? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT CASE EXTRACT(dow FROM ua.activity_timestamp) WHEN 0 THEN 'Sunday' WHEN 1 THEN 'Monday' WHEN 2 THEN 'Tuesday' WHEN 3 THEN 'Wednesday' WHEN 4 THEN 'Thursday' WHEN 5 THEN 'Friday' WHEN 6 THEN 'Saturday' END AS day_of_week, COUNT(*)::int AS activity_count FROM user_activity ua WHERE ua.user_id = 'abc-123' GROUP BY EXTRACT(dow FROM ua.activity_timestamp) ORDER BY activity_count DESC LIMIT 1\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"List my cross training days [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'cross | training | crossfit') ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Show my bench press workouts [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity, ua.comments FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN user_activity_sub_activity uasa ON ua.user_activity_id = uasa.user_activity_id JOIN sub_activity sa ON uasa.sub_activity_id = sa.sub_activity_id WHERE ua.user_id = 'abc-123' AND sa.name ILIKE '%bench%' ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"What's my swimming distance trend? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, uad.distance_in_meters AS distance_m FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'swim') AND uad.activity_detail_type = 'distance' ORDER BY ua.activity_timestamp ASC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"How did I feel during my last workout? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity, ua.comments FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_category ac ON a.activity_category_id = ac.activity_category_id WHERE ua.user_id = 'abc-123' AND ac.activity_category_code = 'workouts' ORDER BY ua.activity_timestamp DESC LIMIT 1\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Show my ab workouts [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN user_activity_sub_activity uasa ON ua.user_activity_id = uasa.user_activity_id JOIN sub_activity sa ON uasa.sub_activity_id = sa.sub_activity_id WHERE ua.user_id = 'abc-123' AND sa.name ILIKE '%ab%' OR sa.name ILIKE '%core%' ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"What's my hiking total this year? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT COUNT(*)::int AS hike_count, SUM(uad.distance_in_meters) / 1000.0 AS total_km FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id LEFT JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id AND uad.activity_detail_type = 'distance' WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'hike | hiking') AND ua.activity_timestamp >= date_trunc('year', CURRENT_DATE)\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"List my planks [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity, uad.duration_in_sec AS duration_seconds FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'plank') AND uad.activity_detail_type = 'duration' ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"What's my average biking speed? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT AVG((distance_val / 1000.0) / (duration_val / 3600.0)) AS avg_speed_kmh FROM (SELECT ua.user_activity_id, MAX(CASE WHEN ad.activity_detail_type = 'duration' THEN uad.duration_in_sec END) AS duration_val, MAX(CASE WHEN ad.activity_detail_type = 'distance' THEN uad.distance_in_meters END) AS distance_val FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id JOIN activity_detail ad ON uad.activity_detail_id = ad.activity_detail_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'bike | cycling') GROUP BY ua.user_activity_id) sub WHERE duration_val > 0 AND distance_val > 0\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Show my warmup activities [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN user_activity_sub_activity uasa ON ua.user_activity_id = uasa.user_activity_id JOIN sub_activity sa ON uasa.sub_activity_id = sa.sub_activity_id WHERE ua.user_id = 'abc-123' AND sa.name ILIKE '%warmup%' OR sa.name ILIKE '%warm up%' ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"What's my longest cycling ride? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, uad.distance_in_meters / 1000.0 AS distance_km FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'bike | cycling | cycle') AND uad.activity_detail_type = 'distance' ORDER BY uad.distance_in_meters DESC LIMIT 1\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"How active was I in Q1? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT COUNT(*)::int AS activities, COUNT(DISTINCT ua.activity_timestamp::date)::int AS active_days FROM user_activity ua WHERE ua.user_id = 'abc-123' AND ua.activity_timestamp >= date_trunc('year', CURRENT_DATE) AND ua.activity_timestamp < date_trunc('year', CURRENT_DATE) + interval '3 months'\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Show my dumbbell exercises [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity, sa.name AS sub_activity FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN user_activity_sub_activity uasa ON ua.user_activity_id = uasa.user_activity_id JOIN sub_activity sa ON uasa.sub_activity_id = sa.sub_activity_id WHERE ua.user_id = 'abc-123' AND sa.name ILIKE '%dumbbell%' ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"What activities did I skip this week? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity, ua.comments FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id WHERE ua.user_id = 'abc-123' AND ua.comments ILIKE '%skip%' AND ua.activity_timestamp >= date_trunc('week', CURRENT_DATE - interval '1 day') + interval '1 day' ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"List my breathing exercises [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'breathing | breath | breathwork') ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Show my power yoga sessions [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity, ua.activity_name_override FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'yoga') AND (ua.comments ILIKE '%power%' OR ua.activity_name_override ILIKE '%power%') ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"What's the breakdown of my workouts by type? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT a.name AS activity_type, COUNT(*)::int AS count FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_category ac ON a.activity_category_id = ac.activity_category_id WHERE ua.user_id = 'abc-123' AND ac.activity_category_code = 'workouts' GROUP BY a.name ORDER BY count DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"How many stairs did I climb? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT SUM(uad.numeric_value)::int AS total_floors FROM user_activity ua JOIN activity_detail ad ON ad.activity_id = ua.activity_id JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id AND uad.activity_detail_id = ad.activity_detail_id WHERE ua.user_id = 'abc-123' AND ad.label ILIKE '%floor%' OR ad.label ILIKE '%stair%'\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Show activities where I pushed myself [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity, ua.comments FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id WHERE ua.user_id = 'abc-123' AND (ua.comments ILIKE '%pushed%' OR ua.comments ILIKE '%challenge%' OR ua.comments ILIKE '%hard%') ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"What's my activity count by month this year? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(date_trunc('month', ua.activity_timestamp), 'Mon YYYY') AS month, COUNT(*)::int AS count FROM user_activity ua WHERE ua.user_id = 'abc-123' AND ua.activity_timestamp >= date_trunc('year', CURRENT_DATE) GROUP BY date_trunc('month', ua.activity_timestamp) ORDER BY date_trunc('month', ua.activity_timestamp)\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Show my squats workouts [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity, sa.name AS sub_activity FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN user_activity_sub_activity uasa ON ua.user_activity_id = uasa.user_activity_id JOIN sub_activity sa ON uasa.sub_activity_id = sa.sub_activity_id WHERE ua.user_id = 'abc-123' AND sa.name ILIKE '%squat%' ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"How long was my average run this month? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT AVG(uad.duration_in_sec) AS avg_duration_sec FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'run') AND uad.activity_detail_type = 'duration' AND ua.activity_timestamp >= date_trunc('month', CURRENT_DATE)\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"What activities have I done with friends? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity, ua.comments FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id WHERE ua.user_id = 'abc-123' AND (ua.comments ILIKE '%friend%' OR ua.comments ILIKE '%partner%' OR ua.comments ILIKE '%buddy%') ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Show my jump rope sessions [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'jump | rope | skip') ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"What's my total running time? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT SUM(uad.duration_in_sec) AS total_seconds FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'run') AND uad.activity_detail_type = 'duration'\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"List my afternoon activities [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity, to_char(ua.activity_timestamp, 'HH12:MI PM') AS time FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id WHERE ua.user_id = 'abc-123' AND EXTRACT(hour FROM ua.activity_timestamp) BETWEEN 12 AND 17 ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Show my elliptical workouts [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity, uad.duration_in_sec AS duration_seconds FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'elliptical') AND uad.activity_detail_type = 'duration' ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"What's my least active day of the week? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT CASE EXTRACT(dow FROM ua.activity_timestamp) WHEN 0 THEN 'Sunday' WHEN 1 THEN 'Monday' WHEN 2 THEN 'Tuesday' WHEN 3 THEN 'Wednesday' WHEN 4 THEN 'Thursday' WHEN 5 THEN 'Friday' WHEN 6 THEN 'Saturday' END AS day_of_week, COUNT(*)::int AS activity_count FROM user_activity ua WHERE ua.user_id = 'abc-123' GROUP BY EXTRACT(dow FROM ua.activity_timestamp) ORDER BY activity_count ASC LIMIT 1\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"How many activities did I do yesterday? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT COUNT(*)::int AS count FROM user_activity ua WHERE ua.user_id = 'abc-123' AND ua.activity_timestamp::date = CURRENT_DATE - interval '1 day'\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Show my leg day workouts [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity, ua.comments FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id WHERE ua.user_id = 'abc-123' AND (ua.comments ILIKE '%leg day%' OR ua.comments ILIKE '%legs%' OR ua.activity_name_override ILIKE '%leg%') ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"What's my sleep pattern this week? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, uad.duration_in_sec / 3600.0 AS hours FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'sleep') AND uad.activity_detail_type = 'duration' AND ua.activity_timestamp >= date_trunc('week', CURRENT_DATE - interval '1 day') + interval '1 day' ORDER BY ua.activity_timestamp\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"List my paddle boarding trips [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity, ua.activity_name_override AS location FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'paddle | paddleboard | sup') ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Show my back exercises [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity, sa.name AS sub_activity FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN user_activity_sub_activity uasa ON ua.user_activity_id = uasa.user_activity_id JOIN sub_activity sa ON uasa.sub_activity_id = sa.sub_activity_id WHERE ua.user_id = 'abc-123' AND (sa.name ILIKE '%back%' OR sa.name ILIKE '%lat%' OR sa.name ILIKE '%row%') ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"What percentage of my activities are workouts? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT ROUND(100.0 * SUM(CASE WHEN ac.activity_category_code = 'workouts' THEN 1 ELSE 0 END) / COUNT(*), 2) AS workout_percentage FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_category ac ON a.activity_category_id = ac.activity_category_id WHERE ua.user_id = 'abc-123'\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Show my kettlebell workouts [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity, sa.name AS sub_activity FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN user_activity_sub_activity uasa ON ua.user_activity_id = uasa.user_activity_id JOIN sub_activity sa ON uasa.sub_activity_id = sa.sub_activity_id WHERE ua.user_id = 'abc-123' AND sa.name ILIKE '%kettlebell%' ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"How many times have I done yoga this month? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT COUNT(*)::int AS count FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'yoga') AND ua.activity_timestamp >= date_trunc('month', CURRENT_DATE)\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"What's my total exercise time this week? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT SUM(uad.duration_in_sec) AS total_seconds FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_category ac ON a.activity_category_id = ac.activity_category_id JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id WHERE ua.user_id = 'abc-123' AND ac.activity_category_code IN ('workouts', 'sports') AND uad.activity_detail_type = 'duration' AND ua.activity_timestamp >= date_trunc('week', CURRENT_DATE - interval '1 day') + interval '1 day'\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"List activities where I did fartlek training [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN user_activity_sub_activity uasa ON ua.user_activity_id = uasa.user_activity_id JOIN sub_activity sa ON uasa.sub_activity_id = sa.sub_activity_id WHERE ua.user_id = 'abc-123' AND sa.name ILIKE '%fartlek%' ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Show activities from the beach [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity, ua.comments FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id WHERE ua.user_id = 'abc-123' AND (ua.comments ILIKE '%beach%' OR ua.activity_name_override ILIKE '%beach%') ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"What's my average distance per cycling session? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT AVG(uad.distance_in_meters) / 1000.0 AS avg_km FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'bike | cycling | cycle') AND uad.activity_detail_type = 'distance'\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"How many hours of sleep did I get last week? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT SUM(uad.duration_in_sec) / 3600.0 AS total_hours FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'sleep') AND uad.activity_detail_type = 'duration' AND ua.activity_timestamp >= date_trunc('week', CURRENT_DATE - interval '1 day') + interval '1 day' - interval '1 week' AND ua.activity_timestamp < date_trunc('week', CURRENT_DATE - interval '1 day') + interval '1 day'\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Show my stair climber workouts [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'stair | climber | stepper') ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"What activities did I complete in under 30 minutes? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity, uad.duration_in_sec / 60.0 AS duration_minutes FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id WHERE ua.user_id = 'abc-123' AND uad.activity_detail_type = 'duration' AND uad.duration_in_sec < 1800 ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"List my deadlift sessions [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity, sa.name AS sub_activity FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN user_activity_sub_activity uasa ON ua.user_activity_id = uasa.user_activity_id JOIN sub_activity sa ON uasa.sub_activity_id = sa.sub_activity_id WHERE ua.user_id = 'abc-123' AND sa.name ILIKE '%deadlift%' ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Show my activity pattern by hour [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT EXTRACT(hour FROM ua.activity_timestamp)::int AS hour, COUNT(*)::int AS count FROM user_activity ua WHERE ua.user_id = 'abc-123' GROUP BY EXTRACT(hour FROM ua.activity_timestamp) ORDER BY hour\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"What's my longest swim? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, uad.distance_in_meters AS distance_m FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'swim') AND uad.activity_detail_type = 'distance' ORDER BY uad.distance_in_meters DESC LIMIT 1\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"How did my running improve over the last 6 months? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(date_trunc('month', ua.activity_timestamp), 'Mon YYYY') AS month, AVG((duration_val / 60.0) / (distance_val / 1000.0)) AS avg_pace_min_per_km FROM (SELECT ua.user_activity_id, ua.activity_timestamp, MAX(CASE WHEN ad.activity_detail_type = 'duration' THEN uad.duration_in_sec END) AS duration_val, MAX(CASE WHEN ad.activity_detail_type = 'distance' THEN uad.distance_in_meters END) AS distance_val FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id JOIN activity_detail ad ON uad.activity_detail_id = ad.activity_detail_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'run') AND ad.use_for_pace_calculation = true AND ua.activity_timestamp >= CURRENT_DATE - interval '6 months' GROUP BY ua.user_activity_id, ua.activity_timestamp) sub WHERE distance_val > 0 GROUP BY date_trunc('month', activity_timestamp) ORDER BY date_trunc('month', activity_timestamp)\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Show my chest exercises [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity, sa.name AS sub_activity FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN user_activity_sub_activity uasa ON ua.user_activity_id = uasa.user_activity_id JOIN sub_activity sa ON uasa.sub_activity_id = sa.sub_activity_id WHERE ua.user_id = 'abc-123' AND (sa.name ILIKE '%chest%' OR sa.name ILIKE '%bench%' OR sa.name ILIKE '%fly%') ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"What's the farthest I've biked in one ride? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, uad.distance_in_meters / 1000.0 AS distance_km FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'bike | cycling') AND uad.activity_detail_type = 'distance' ORDER BY uad.distance_in_meters DESC LIMIT 1\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"List my rock climbing sessions [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity, ua.activity_name_override, ua.comments FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'rock | climb | climbing') ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Show my activities that lasted over an hour [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity, uad.duration_in_sec / 3600.0 AS duration_hours FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id WHERE ua.user_id = 'abc-123' AND uad.activity_detail_type = 'duration' AND uad.duration_in_sec > 3600 ORDER BY uad.duration_in_sec DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"How many different types of yoga have I done? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT COUNT(DISTINCT COALESCE(ua.activity_name_override, a.name))::int AS yoga_types FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'yoga')\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"What's my most common workout time? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT CASE WHEN EXTRACT(hour FROM ua.activity_timestamp) BETWEEN 5 AND 11 THEN 'Morning' WHEN EXTRACT(hour FROM ua.activity_timestamp) BETWEEN 12 AND 17 THEN 'Afternoon' ELSE 'Evening' END AS time_of_day, COUNT(*)::int AS count FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_category ac ON a.activity_category_id = ac.activity_category_id WHERE ua.user_id = 'abc-123' AND ac.activity_category_code = 'workouts' GROUP BY CASE WHEN EXTRACT(hour FROM ua.activity_timestamp) BETWEEN 5 AND 11 THEN 'Morning' WHEN EXTRACT(hour FROM ua.activity_timestamp) BETWEEN 12 AND 17 THEN 'Afternoon' ELSE 'Evening' END ORDER BY count DESC LIMIT 1\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Show my pull up workouts [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity, sa.name AS sub_activity FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN user_activity_sub_activity uasa ON ua.user_activity_id = uasa.user_activity_id JOIN sub_activity sa ON uasa.sub_activity_id = sa.sub_activity_id WHERE ua.user_id = 'abc-123' AND sa.name ILIKE '%pull%up%' ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"What activities did I log at night? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity, to_char(ua.activity_timestamp, 'HH12:MI PM') AS time FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id WHERE ua.user_id = 'abc-123' AND (EXTRACT(hour FROM ua.activity_timestamp) >= 21 OR EXTRACT(hour FROM ua.activity_timestamp) < 5) ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"List my spin class sessions [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity, ua.activity_name_override FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id WHERE ua.user_id = 'abc-123' AND (ae.fts @@ to_tsquery('english', 'spin | spinning') OR ua.comments ILIKE '%spin class%') ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"How consistent is my sleep schedule? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT STDDEV(uad.duration_in_sec / 3600.0) AS sleep_variability_hours, AVG(uad.duration_in_sec / 3600.0) AS avg_sleep_hours FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'sleep') AND uad.activity_detail_type = 'duration' AND ua.activity_timestamp >= CURRENT_DATE - interval '30 days'\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Show my shoulder exercises [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity, sa.name AS sub_activity FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN user_activity_sub_activity uasa ON ua.user_activity_id = uasa.user_activity_id JOIN sub_activity sa ON uasa.sub_activity_id = sa.sub_activity_id WHERE ua.user_id = 'abc-123' AND (sa.name ILIKE '%shoulder%' OR sa.name ILIKE '%press%' OR sa.name ILIKE '%lateral%') ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"What's my total distance across all cardio? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT SUM(uad.distance_in_meters) / 1000.0 AS total_km FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'run | bike | swim | row | walk') AND uad.activity_detail_type = 'distance'\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"List my circuit training sessions [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN user_activity_sub_activity uasa ON ua.user_activity_id = uasa.user_activity_id JOIN sub_activity sa ON uasa.sub_activity_id = sa.sub_activity_id WHERE ua.user_id = 'abc-123' AND sa.name ILIKE '%circuit%' ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Show activities completed on holidays [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity, ua.comments FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id WHERE ua.user_id = 'abc-123' AND (ua.comments ILIKE '%holiday%' OR ua.comments ILIKE '%vacation%' OR ua.comments ILIKE '%christmas%' OR ua.comments ILIKE '%thanksgiving%') ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"What's my average pace trend for swimming? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(date_trunc('week', activity_timestamp), 'Mon DD, YYYY') AS week, AVG((duration_val / 60.0) / (distance_val / 100.0)) AS avg_pace_min_per_100m FROM (SELECT ua.user_activity_id, ua.activity_timestamp, MAX(CASE WHEN ad.activity_detail_type = 'duration' THEN uad.duration_in_sec END) AS duration_val, MAX(CASE WHEN ad.activity_detail_type = 'distance' THEN uad.distance_in_meters END) AS distance_val FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id JOIN activity_detail ad ON uad.activity_detail_id = ad.activity_detail_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'swim') AND ad.use_for_pace_calculation = true AND a.pace_type = 'minutesPer100Uom' GROUP BY ua.user_activity_id, ua.activity_timestamp) sub WHERE distance_val > 0 GROUP BY date_trunc('week', activity_timestamp) ORDER BY date_trunc('week', activity_timestamp)\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"How many sports activities did I do outdoors? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT COUNT(*)::int AS count FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_category ac ON a.activity_category_id = ac.activity_category_id JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id WHERE ua.user_id = 'abc-123' AND ac.activity_category_code = 'sports' AND uad.environment_value = 'outdoor'\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Show my lunges workouts [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity, sa.name AS sub_activity FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN user_activity_sub_activity uasa ON ua.user_activity_id = uasa.user_activity_id JOIN sub_activity sa ON uasa.sub_activity_id = sa.sub_activity_id WHERE ua.user_id = 'abc-123' AND sa.name ILIKE '%lunge%' ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"What's my daily step average for this month? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT AVG(daily_steps)::int AS avg_daily_steps FROM (SELECT ua.activity_timestamp::date AS date, SUM(uad.numeric_value) AS daily_steps FROM user_activity ua JOIN activity_detail ad ON ad.activity_id = ua.activity_id JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id AND uad.activity_detail_id = ad.activity_detail_id WHERE ua.user_id = 'abc-123' AND ad.label ILIKE '%step%' AND ua.activity_timestamp >= date_trunc('month', CURRENT_DATE) GROUP BY ua.activity_timestamp::date) sub\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"List my burpees sessions [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity, sa.name AS sub_activity FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN user_activity_sub_activity uasa ON ua.user_activity_id = uasa.user_activity_id JOIN sub_activity sa ON uasa.sub_activity_id = sa.sub_activity_id WHERE ua.user_id = 'abc-123' AND sa.name ILIKE '%burpee%' ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Show my activities comparing this week vs last week [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT CASE WHEN ua.activity_timestamp >= date_trunc('week', CURRENT_DATE - interval '1 day') + interval '1 day' THEN 'This Week' ELSE 'Last Week' END AS period, COUNT(*)::int AS activity_count FROM user_activity ua WHERE ua.user_id = 'abc-123' AND ua.activity_timestamp >= date_trunc('week', CURRENT_DATE - interval '1 day') + interval '1 day' - interval '1 week' GROUP BY CASE WHEN ua.activity_timestamp >= date_trunc('week', CURRENT_DATE - interval '1 day') + interval '1 day' THEN 'This Week' ELSE 'Last Week' END ORDER BY period DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"What's my total activity count ever? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT COUNT(*)::int AS total_activities FROM user_activity ua WHERE ua.user_id = 'abc-123'\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Show my mountain biking rides [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity, ua.activity_name_override AS trail_name, ua.comments FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id WHERE ua.user_id = 'abc-123' AND (ae.fts @@ to_tsquery('english', 'mountain | mtb') OR ua.comments ILIKE '%mountain bike%') ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"How many times did I work out on weekdays vs weekends? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT CASE WHEN EXTRACT(dow FROM ua.activity_timestamp) IN (0, 6) THEN 'Weekend' ELSE 'Weekday' END AS day_type, COUNT(*)::int AS count FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_category ac ON a.activity_category_id = ac.activity_category_id WHERE ua.user_id = 'abc-123' AND ac.activity_category_code = 'workouts' GROUP BY CASE WHEN EXTRACT(dow FROM ua.activity_timestamp) IN (0, 6) THEN 'Weekend' ELSE 'Weekday' END\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"List my tricep exercises [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity, sa.name AS sub_activity FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN user_activity_sub_activity uasa ON ua.user_activity_id = uasa.user_activity_id JOIN sub_activity sa ON uasa.sub_activity_id = sa.sub_activity_id WHERE ua.user_id = 'abc-123' AND (sa.name ILIKE '%tricep%' OR sa.name ILIKE '%dip%' OR sa.name ILIKE '%pushdown%') ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"What's my favorite activity? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT a.name AS activity, COUNT(*)::int AS count FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id WHERE ua.user_id = 'abc-123' GROUP BY a.name ORDER BY count DESC LIMIT 1\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Show my bicep curl sessions [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity, sa.name AS sub_activity FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN user_activity_sub_activity uasa ON ua.user_activity_id = uasa.user_activity_id JOIN sub_activity sa ON uasa.sub_activity_id = sa.sub_activity_id WHERE ua.user_id = 'abc-123' AND (sa.name ILIKE '%bicep%' OR sa.name ILIKE '%curl%') ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"How many unique days did I log activities this year? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT COUNT(DISTINCT ua.activity_timestamp::date)::int AS unique_days FROM user_activity ua WHERE ua.user_id = 'abc-123' AND ua.activity_timestamp >= date_trunc('year', CURRENT_DATE)\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"What activities do I usually do on Sundays? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT a.name AS activity, COUNT(*)::int AS count FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id WHERE ua.user_id = 'abc-123' AND EXTRACT(dow FROM ua.activity_timestamp) = 0 GROUP BY a.name ORDER BY count DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Show my trail running activities [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity, ua.activity_name_override, ua.comments FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'run') AND (ua.comments ILIKE '%trail%' OR ua.activity_name_override ILIKE '%trail%') ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"What's my rowing distance trend over the past month? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, uad.distance_in_meters AS distance_m FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'row | rowing') AND uad.activity_detail_type = 'distance' AND ua.activity_timestamp >= CURRENT_DATE - interval '30 days' ORDER BY ua.activity_timestamp\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"How many times did I go runnign this week? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT COUNT(*)::int AS run_count FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'run') AND ua.activity_timestamp >= date_trunc('week', CURRENT_DATE - interval '1 day') + interval '1 day'\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Show my swmiming sessions [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'swim') ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Whats my avarage pace for biking? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT AVG((distance_val / 1000.0) / (duration_val / 3600.0)) AS avg_speed_kmh FROM (SELECT ua.user_activity_id, MAX(CASE WHEN ad.activity_detail_type = 'duration' THEN uad.duration_in_sec END) AS duration_val, MAX(CASE WHEN ad.activity_detail_type = 'distance' THEN uad.distance_in_meters END) AS distance_val FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id JOIN activity_detail ad ON uad.activity_detail_id = ad.activity_detail_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'bike | cycling') GROUP BY ua.user_activity_id) sub WHERE duration_val > 0 AND distance_val > 0\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"How far did i wlak yesterday? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT SUM(uad.distance_in_meters) / 1000.0 AS total_km FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'walk') AND uad.activity_detail_type = 'distance' AND ua.activity_timestamp::date = CURRENT_DATE - interval '1 day'\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Show me my yogo sessions [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'yoga') ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Whne was my last workoout? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_category ac ON a.activity_category_id = ac.activity_category_id WHERE ua.user_id = 'abc-123' AND ac.activity_category_code = 'workouts' ORDER BY ua.activity_timestamp DESC LIMIT 1\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"How long did i slepe last night? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT uad.duration_in_sec FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'sleep') AND ua.activity_timestamp::date = CURRENT_DATE - interval '1 day' AND uad.activity_detail_type = 'duration' LIMIT 1\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Shwo my cyclign distance [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT SUM(uad.distance_in_meters) / 1000.0 AS total_km FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'cycle | cycling | bike') AND uad.activity_detail_type = 'distance'\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"How many meditatoin sessions have I done? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT COUNT(*)::int AS count FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'meditation | meditate')\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Waht activities di I do today? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id WHERE ua.user_id = 'abc-123' AND ua.activity_timestamp::date = CURRENT_DATE ORDER BY ua.activity_timestamp\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"List my strenth training [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'strength | weight | lift') ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Hwo many caloris did I burn? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT SUM(uad.numeric_value) AS total_calories FROM user_activity ua JOIN activity_detail ad ON ad.activity_id = ua.activity_id JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id AND uad.activity_detail_id = ad.activity_detail_id WHERE ua.user_id = 'abc-123' AND ad.label ILIKE '%calorie%'\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Show acitivities from last wendsday [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id WHERE ua.user_id = 'abc-123' AND ua.activity_timestamp::date = CURRENT_DATE - ((EXTRACT(dow FROM CURRENT_DATE)::int + 4) % 7 + 1)::int ORDER BY ua.activity_timestamp\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"What was my runing pace today? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT (duration_val / 60.0) / (distance_val / 1000.0) AS pace_min_per_km FROM (SELECT ua.user_activity_id, MAX(CASE WHEN ad.activity_detail_type = 'duration' THEN uad.duration_in_sec END) AS duration_val, MAX(CASE WHEN ad.activity_detail_type = 'distance' THEN uad.distance_in_meters END) AS distance_val FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id JOIN activity_detail ad ON uad.activity_detail_id = ad.activity_detail_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'run') AND ad.use_for_pace_calculation = true AND ua.activity_timestamp::date = CURRENT_DATE GROUP BY ua.user_activity_id) sub WHERE distance_val > 0\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Liist my hiknig trips [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity, ua.activity_name_override AS trail_name FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'hike | hiking') ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Show my boxign workouts [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'box | boxing') ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Hw many activties did I do this moth? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT COUNT(*)::int AS count FROM user_activity ua WHERE ua.user_id = 'abc-123' AND ua.activity_timestamp >= date_trunc('month', CURRENT_DATE)\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"What ws my fastest run? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT MIN((duration_val / 60.0) / (distance_val / 1000.0)) AS fastest_pace_min_per_km FROM (SELECT ua.user_activity_id, MAX(CASE WHEN ad.activity_detail_type = 'duration' THEN uad.duration_in_sec END) AS duration_val, MAX(CASE WHEN ad.activity_detail_type = 'distance' THEN uad.distance_in_meters END) AS distance_val FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id JOIN activity_detail ad ON uad.activity_detail_id = ad.activity_detail_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'run') AND ad.use_for_pace_calculation = true GROUP BY ua.user_activity_id) sub WHERE distance_val > 0\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Shw my tenis matches [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity, ua.activity_name_override FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'tennis') ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Waht is my toatl distance? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT SUM(uad.distance_in_meters) / 1000.0 AS total_km FROM user_activity ua JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id WHERE ua.user_id = 'abc-123' AND uad.activity_detail_type = 'distance'\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"How am I doing? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT COUNT(*)::int AS activities_this_week, COUNT(DISTINCT ua.activity_timestamp::date)::int AS active_days FROM user_activity ua WHERE ua.user_id = 'abc-123' AND ua.activity_timestamp >= date_trunc('week', CURRENT_DATE - interval '1 day') + interval '1 day'\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Am I being active enough? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT COUNT(*)::int AS activities_this_week, COUNT(DISTINCT ua.activity_timestamp::date)::int AS active_days FROM user_activity ua WHERE ua.user_id = 'abc-123' AND ua.activity_timestamp >= date_trunc('week', CURRENT_DATE - interval '1 day') + interval '1 day'\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Tell me about my fitness [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT ac.name AS category, COUNT(*)::int AS count FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_category ac ON a.activity_category_id = ac.activity_category_id WHERE ua.user_id = 'abc-123' AND ua.activity_timestamp >= CURRENT_DATE - interval '30 days' GROUP BY ac.name ORDER BY count DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Give me a summary [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT COUNT(*)::int AS total_activities, COUNT(DISTINCT a.activity_id)::int AS unique_types, COUNT(DISTINCT ua.activity_timestamp::date)::int AS active_days FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id WHERE ua.user_id = 'abc-123' AND ua.activity_timestamp >= date_trunc('month', CURRENT_DATE)\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"What's going on with my workouts? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_category ac ON a.activity_category_id = ac.activity_category_id WHERE ua.user_id = 'abc-123' AND ac.activity_category_code = 'workouts' AND ua.activity_timestamp >= CURRENT_DATE - interval '7 days' ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"How's my running? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT COUNT(*)::int AS runs_this_month, SUM(uad.distance_in_meters) / 1000.0 AS total_km FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id LEFT JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id AND uad.activity_detail_type = 'distance' WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'run') AND ua.activity_timestamp >= date_trunc('month', CURRENT_DATE)\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"What should I know? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT a.name AS activity, COUNT(*)::int AS count FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id WHERE ua.user_id = 'abc-123' AND ua.activity_timestamp >= CURRENT_DATE - interval '7 days' GROUP BY a.name ORDER BY count DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Update me [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id WHERE ua.user_id = 'abc-123' ORDER BY ua.activity_timestamp DESC LIMIT 5\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Talk to me about my progress [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(date_trunc('week', ua.activity_timestamp), 'Mon DD, YYYY') AS week, COUNT(*)::int AS activities FROM user_activity ua WHERE ua.user_id = 'abc-123' AND ua.activity_timestamp >= CURRENT_DATE - interval '4 weeks' GROUP BY date_trunc('week', ua.activity_timestamp) ORDER BY week\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"What have I been up to? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id WHERE ua.user_id = 'abc-123' AND ua.activity_timestamp >= CURRENT_DATE - interval '7 days' ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Anything interesting? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity, ua.comments FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id WHERE ua.user_id = 'abc-123' AND ua.comments IS NOT NULL AND ua.comments != '' ORDER BY ua.activity_timestamp DESC LIMIT 5\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Show me everything [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id WHERE ua.user_id = 'abc-123' ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"What's new? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id WHERE ua.user_id = 'abc-123' AND ua.activity_timestamp >= CURRENT_DATE - interval '3 days' ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Did I work out? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_category ac ON a.activity_category_id = ac.activity_category_id WHERE ua.user_id = 'abc-123' AND ac.activity_category_code = 'workouts' AND ua.activity_timestamp::date = CURRENT_DATE ORDER BY ua.activity_timestamp\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Was I active? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT COUNT(*)::int AS activity_count FROM user_activity ua WHERE ua.user_id = 'abc-123' AND ua.activity_timestamp::date = CURRENT_DATE\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Running stats [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT COUNT(*)::int AS total_runs, SUM(uad.distance_in_meters) / 1000.0 AS total_km, AVG(uad.distance_in_meters) / 1000.0 AS avg_km FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id LEFT JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id AND uad.activity_detail_type = 'distance' WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'run')\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Cycling info [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT COUNT(*)::int AS total_rides, SUM(uad.distance_in_meters) / 1000.0 AS total_km FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id LEFT JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id AND uad.activity_detail_type = 'distance' WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'bike | cycling')\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Show runs that weren't outdoors [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id LEFT JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id AND uad.environment_value IS NOT NULL WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'run') AND (uad.environment_value IS NULL OR uad.environment_value != 'outdoor') ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"List activities that aren't workouts [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_category ac ON a.activity_category_id = ac.activity_category_id WHERE ua.user_id = 'abc-123' AND ac.activity_category_code != 'workouts' ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Show activities without comments [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id WHERE ua.user_id = 'abc-123' AND (ua.comments IS NULL OR ua.comments = '') ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Which days didn't I work out this week? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT d.day::date AS date FROM generate_series(date_trunc('week', CURRENT_DATE - interval '1 day') + interval '1 day', date_trunc('week', CURRENT_DATE - interval '1 day') + interval '7 days', '1 day'::interval) AS d(day) WHERE d.day::date <= CURRENT_DATE AND d.day::date NOT IN (SELECT DISTINCT ua.activity_timestamp::date FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_category ac ON a.activity_category_id = ac.activity_category_id WHERE ua.user_id = 'abc-123' AND ac.activity_category_code = 'workouts' AND ua.activity_timestamp >= date_trunc('week', CURRENT_DATE - interval '1 day') + interval '1 day')\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Show activities that don't have distance data [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id WHERE ua.user_id = 'abc-123' AND ua.user_activity_id NOT IN (SELECT uad.user_activity_id FROM user_activity_detail uad WHERE uad.activity_detail_type = 'distance' AND uad.distance_in_meters IS NOT NULL) ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"List runs not in the morning [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity, to_char(ua.activity_timestamp, 'HH12:MI AM') AS time FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'run') AND EXTRACT(hour FROM ua.activity_timestamp) NOT BETWEEN 5 AND 11 ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Show activities other than running [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id WHERE ua.user_id = 'abc-123' AND NOT ae.fts @@ to_tsquery('english', 'run') ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"What activities haven't I done this month? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT DISTINCT a.name AS activity FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id WHERE ua.user_id = 'abc-123' AND a.activity_id NOT IN (SELECT ua2.activity_id FROM user_activity ua2 WHERE ua2.user_id = 'abc-123' AND ua2.activity_timestamp >= date_trunc('month', CURRENT_DATE))\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Show activities except sports [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_category ac ON a.activity_category_id = ac.activity_category_id WHERE ua.user_id = 'abc-123' AND ac.activity_category_code != 'sports' ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"List workouts without sub-activities [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_category ac ON a.activity_category_id = ac.activity_category_id WHERE ua.user_id = 'abc-123' AND ac.activity_category_code = 'workouts' AND ua.user_activity_id NOT IN (SELECT uasa.user_activity_id FROM user_activity_sub_activity uasa) ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Show runs under 5km [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity, uad.distance_in_meters / 1000.0 AS distance_km FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'run') AND uad.activity_detail_type = 'distance' AND uad.distance_in_meters < 5000 ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Activities where I didn't mention pain [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id WHERE ua.user_id = 'abc-123' AND (ua.comments IS NULL OR ua.comments NOT ILIKE '%pain%') ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Show activities not on weekends [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id WHERE ua.user_id = 'abc-123' AND EXTRACT(dow FROM ua.activity_timestamp) NOT IN (0, 6) ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"List activities that weren't indoor [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id LEFT JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id AND uad.environment_value IS NOT NULL WHERE ua.user_id = 'abc-123' AND (uad.environment_value IS NULL OR uad.environment_value != 'indoor') ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"How far and how long did I run today? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT SUM(CASE WHEN uad.activity_detail_type = 'distance' THEN uad.distance_in_meters END) / 1000.0 AS total_km, SUM(CASE WHEN uad.activity_detail_type = 'duration' THEN uad.duration_in_sec END) AS total_seconds FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'run') AND ua.activity_timestamp::date = CURRENT_DATE\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"What's my distance and pace for running this week? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT SUM(distance_val) / 1000.0 AS total_km, AVG((duration_val / 60.0) / (distance_val / 1000.0)) AS avg_pace_min_per_km FROM (SELECT ua.user_activity_id, MAX(CASE WHEN ad.activity_detail_type = 'duration' THEN uad.duration_in_sec END) AS duration_val, MAX(CASE WHEN ad.activity_detail_type = 'distance' THEN uad.distance_in_meters END) AS distance_val FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id JOIN activity_detail ad ON uad.activity_detail_id = ad.activity_detail_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'run') AND ad.use_for_pace_calculation = true AND ua.activity_timestamp >= date_trunc('week', CURRENT_DATE - interval '1 day') + interval '1 day' GROUP BY ua.user_activity_id) sub WHERE distance_val > 0\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Show my running and cycling activities [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'run | bike | cycling | cycle') ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"How many workouts and sports activities this month? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT ac.name AS category, COUNT(*)::int AS count FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_category ac ON a.activity_category_id = ac.activity_category_id WHERE ua.user_id = 'abc-123' AND ac.activity_category_code IN ('workouts', 'sports') AND ua.activity_timestamp >= date_trunc('month', CURRENT_DATE) GROUP BY ac.name\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"What's my total time and distance for swimming? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT SUM(CASE WHEN uad.activity_detail_type = 'duration' THEN uad.duration_in_sec END) AS total_seconds, SUM(CASE WHEN uad.activity_detail_type = 'distance' THEN uad.distance_in_meters END) AS total_meters FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'swim')\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Show my yoga and meditation sessions [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'yoga | meditation | meditate') ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"How many activities and unique days this week? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT COUNT(*)::int AS activities, COUNT(DISTINCT ua.activity_timestamp::date)::int AS unique_days FROM user_activity ua WHERE ua.user_id = 'abc-123' AND ua.activity_timestamp >= date_trunc('week', CURRENT_DATE - interval '1 day') + interval '1 day'\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"What's my average and total running distance? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT AVG(uad.distance_in_meters) / 1000.0 AS avg_km, SUM(uad.distance_in_meters) / 1000.0 AS total_km FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'run') AND uad.activity_detail_type = 'distance'\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Show weight lifting and cardio from this week [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'weight | lift | cardio | run | bike | swim') AND ua.activity_timestamp >= date_trunc('week', CURRENT_DATE - interval '1 day') + interval '1 day' ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"What's my fastest and slowest running pace? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT MIN((duration_val / 60.0) / (distance_val / 1000.0)) AS fastest_pace, MAX((duration_val / 60.0) / (distance_val / 1000.0)) AS slowest_pace FROM (SELECT ua.user_activity_id, MAX(CASE WHEN ad.activity_detail_type = 'duration' THEN uad.duration_in_sec END) AS duration_val, MAX(CASE WHEN ad.activity_detail_type = 'distance' THEN uad.distance_in_meters END) AS distance_val FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id JOIN activity_detail ad ON uad.activity_detail_id = ad.activity_detail_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'run') AND ad.use_for_pace_calculation = true GROUP BY ua.user_activity_id) sub WHERE distance_val > 0\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"How long and how far did I walk yesterday? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT SUM(CASE WHEN uad.activity_detail_type = 'duration' THEN uad.duration_in_sec END) AS duration_seconds, SUM(CASE WHEN uad.activity_detail_type = 'distance' THEN uad.distance_in_meters END) / 1000.0 AS distance_km FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'walk') AND ua.activity_timestamp::date = CURRENT_DATE - interval '1 day'\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Show indoor and outdoor workouts [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity, uad.environment_value AS environment FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_category ac ON a.activity_category_id = ac.activity_category_id JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id WHERE ua.user_id = 'abc-123' AND ac.activity_category_code = 'workouts' AND uad.environment_value IN ('indoor', 'outdoor') ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"How many runs and swims this month? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT CASE WHEN ae.fts @@ to_tsquery('english', 'run') THEN 'Running' WHEN ae.fts @@ to_tsquery('english', 'swim') THEN 'Swimming' END AS activity_type, COUNT(*)::int AS count FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id WHERE ua.user_id = 'abc-123' AND (ae.fts @@ to_tsquery('english', 'run') OR ae.fts @@ to_tsquery('english', 'swim')) AND ua.activity_timestamp >= date_trunc('month', CURRENT_DATE) GROUP BY CASE WHEN ae.fts @@ to_tsquery('english', 'run') THEN 'Running' WHEN ae.fts @@ to_tsquery('english', 'swim') THEN 'Swimming' END\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"What's my total calories and workout time today? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT SUM(CASE WHEN ad.label ILIKE '%calorie%' THEN uad.numeric_value END) AS total_calories, SUM(CASE WHEN uad.activity_detail_type = 'duration' THEN uad.duration_in_sec END) AS total_duration_sec FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_category ac ON a.activity_category_id = ac.activity_category_id JOIN activity_detail ad ON ad.activity_id = a.activity_id JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id AND uad.activity_detail_id = ad.activity_detail_id WHERE ua.user_id = 'abc-123' AND ac.activity_category_code = 'workouts' AND ua.activity_timestamp::date = CURRENT_DATE\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"List my stretching and foam rolling sessions [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'stretch | stretching | foam | roll | rolling') ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"What's the count and average duration of my workouts? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT COUNT(DISTINCT ua.user_activity_id)::int AS workout_count, AVG(uad.duration_in_sec) AS avg_duration_sec FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_category ac ON a.activity_category_id = ac.activity_category_id JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id WHERE ua.user_id = 'abc-123' AND ac.activity_category_code = 'workouts' AND uad.activity_detail_type = 'duration'\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Show my activities (I might not have any) [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id WHERE ua.user_id = 'abc-123' ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"What's my pace if I have any runs with pace data? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT AVG((duration_val / 60.0) / (distance_val / 1000.0)) AS avg_pace_min_per_km FROM (SELECT ua.user_activity_id, MAX(CASE WHEN ad.activity_detail_type = 'duration' THEN uad.duration_in_sec END) AS duration_val, MAX(CASE WHEN ad.activity_detail_type = 'distance' THEN uad.distance_in_meters END) AS distance_val FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id JOIN activity_detail ad ON uad.activity_detail_id = ad.activity_detail_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'run') AND ad.use_for_pace_calculation = true AND a.pace_type = 'minutesPerUom' GROUP BY ua.user_activity_id) sub WHERE distance_val > 0\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Did I do anything today? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id WHERE ua.user_id = 'abc-123' AND ua.activity_timestamp::date = CURRENT_DATE ORDER BY ua.activity_timestamp\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Do I have any swimming activities? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'swim') ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Have I ever done yoga? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'yoga') ORDER BY ua.activity_timestamp DESC LIMIT 1\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Is there any data for cycling? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT COUNT(*)::int AS count FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'bike | cycling | cycle')\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Show only my first activity [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id WHERE ua.user_id = 'abc-123' ORDER BY ua.activity_timestamp ASC LIMIT 1\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"What if I have no runs? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT COUNT(*)::int AS run_count FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'run')\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Show my last single activity [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id WHERE ua.user_id = 'abc-123' ORDER BY ua.activity_timestamp DESC LIMIT 1\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Am I even tracking activities? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT COUNT(*)::int AS total_activities FROM user_activity ua WHERE ua.user_id = 'abc-123'\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Show the one activity I did if any [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id WHERE ua.user_id = 'abc-123' ORDER BY ua.activity_timestamp DESC LIMIT 1\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Activities with zero distance [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id WHERE ua.user_id = 'abc-123' AND uad.activity_detail_type = 'distance' AND uad.distance_in_meters = 0 ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"What about this month? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id WHERE ua.user_id = 'abc-123' AND ua.activity_timestamp >= date_trunc('month', CURRENT_DATE) ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"And last month? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id WHERE ua.user_id = 'abc-123' AND ua.activity_timestamp >= date_trunc('month', CURRENT_DATE - interval '1 month') AND ua.activity_timestamp < date_trunc('month', CURRENT_DATE) ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"What about yesterday? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id WHERE ua.user_id = 'abc-123' AND ua.activity_timestamp::date = CURRENT_DATE - interval '1 day' ORDER BY ua.activity_timestamp\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"How about this week? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id WHERE ua.user_id = 'abc-123' AND ua.activity_timestamp >= date_trunc('week', CURRENT_DATE - interval '1 day') + interval '1 day' ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"And the week before that? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id WHERE ua.user_id = 'abc-123' AND ua.activity_timestamp >= date_trunc('week', CURRENT_DATE - interval '1 day') + interval '1 day' - interval '1 week' AND ua.activity_timestamp < date_trunc('week', CURRENT_DATE - interval '1 day') + interval '1 day' ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"What about running specifically? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'run') ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Can you show that for cycling instead? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'bike | cycling | cycle') ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Now show the same thing for swimming [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'swim') ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"What if I want to see just workouts? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_category ac ON a.activity_category_id = ac.activity_category_id WHERE ua.user_id = 'abc-123' AND ac.activity_category_code = 'workouts' ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Actually make that sports [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_category ac ON a.activity_category_id = ac.activity_category_id WHERE ua.user_id = 'abc-123' AND ac.activity_category_code = 'sports' ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Now include the distance too [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity, uad.distance_in_meters / 1000.0 AS distance_km FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id WHERE ua.user_id = 'abc-123' AND uad.activity_detail_type = 'distance' ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"What about duration too? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity, uad.duration_in_sec FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id WHERE ua.user_id = 'abc-123' AND uad.activity_detail_type = 'duration' ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"How does that compare to last year? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT CASE WHEN ua.activity_timestamp >= date_trunc('year', CURRENT_DATE) THEN 'This Year' ELSE 'Last Year' END AS period, COUNT(*)::int AS activity_count FROM user_activity ua WHERE ua.user_id = 'abc-123' AND ua.activity_timestamp >= date_trunc('year', CURRENT_DATE - interval '1 year') GROUP BY CASE WHEN ua.activity_timestamp >= date_trunc('year', CURRENT_DATE) THEN 'This Year' ELSE 'Last Year' END ORDER BY period DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Go back further, maybe 6 months ago [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id WHERE ua.user_id = 'abc-123' AND ua.activity_timestamp >= CURRENT_DATE - interval '6 months' AND ua.activity_timestamp < CURRENT_DATE - interval '5 months' ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Can you break that down by week? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(date_trunc('week', ua.activity_timestamp), 'Mon DD, YYYY') AS week_start, COUNT(*)::int AS count FROM user_activity ua WHERE ua.user_id = 'abc-123' AND ua.activity_timestamp >= CURRENT_DATE - interval '8 weeks' GROUP BY date_trunc('week', ua.activity_timestamp) ORDER BY week_start\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Now by month [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(date_trunc('month', ua.activity_timestamp), 'Mon YYYY') AS month, COUNT(*)::int AS count FROM user_activity ua WHERE ua.user_id = 'abc-123' AND ua.activity_timestamp >= CURRENT_DATE - interval '6 months' GROUP BY date_trunc('month', ua.activity_timestamp) ORDER BY date_trunc('month', ua.activity_timestamp)\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"What was the total for those? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT COUNT(*)::int AS total_count FROM user_activity ua WHERE ua.user_id = 'abc-123'\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Show more detail [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity, ua.activity_name_override, ua.comments FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id WHERE ua.user_id = 'abc-123' ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Just the outdoor ones [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id WHERE ua.user_id = 'abc-123' AND uad.environment_value = 'outdoor' ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Indoor ones instead [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id WHERE ua.user_id = 'abc-123' AND uad.environment_value = 'indoor' ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Filter by morning only [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity, to_char(ua.activity_timestamp, 'HH12:MI AM') AS time FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id WHERE ua.user_id = 'abc-123' AND EXTRACT(hour FROM ua.activity_timestamp) BETWEEN 5 AND 11 ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Show evening instead [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity, to_char(ua.activity_timestamp, 'HH12:MI PM') AS time FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id WHERE ua.user_id = 'abc-123' AND EXTRACT(hour FROM ua.activity_timestamp) BETWEEN 17 AND 22 ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Add pace to that [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity, (duration_val / 60.0) / (distance_val / 1000.0) AS pace_min_per_km FROM (SELECT ua.user_activity_id, ua.activity_timestamp, a.name, MAX(CASE WHEN ad.activity_detail_type = 'duration' THEN uad.duration_in_sec END) AS duration_val, MAX(CASE WHEN ad.activity_detail_type = 'distance' THEN uad.distance_in_meters END) AS distance_val FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id JOIN activity_detail ad ON uad.activity_detail_id = ad.activity_detail_id WHERE ua.user_id = 'abc-123' AND ad.use_for_pace_calculation = true GROUP BY ua.user_activity_id, ua.activity_timestamp, a.name) sub WHERE distance_val > 0 ORDER BY activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"What was my last run? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'run') ORDER BY ua.activity_timestamp DESC LIMIT 1\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Tell me about my sauna sessions [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity, ua.comments FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'sauna') ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Show me my yoga [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'yoga') ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"When did I last swim? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'swim') ORDER BY ua.activity_timestamp DESC LIMIT 1\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"How long was my last bike ride? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT uad.duration_in_sec FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'bike | ride | cycling') AND uad.activity_detail_type = 'duration' ORDER BY ua.activity_timestamp DESC LIMIT 1\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"List my hikes [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'hike | hiking') ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Show me my meditation sessions [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity, uad.duration_in_sec FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id LEFT JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id AND uad.activity_detail_type = 'duration' WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'meditation') ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"What was my last walk? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'walk') ORDER BY ua.activity_timestamp DESC LIMIT 1\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Tell me about my basketball games [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity, ua.comments FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'basketball') ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"When was my last golf round? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'golf') ORDER BY ua.activity_timestamp DESC LIMIT 1\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Show my tennis matches [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'tennis') ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"How many times did I go running this week? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT COUNT(*)::int AS count FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'running | run') AND ua.activity_timestamp >= date_trunc('week', CURRENT_DATE - interval '1 day') + interval '1 day'\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"What was my most recent jog? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'jog | jogging') ORDER BY ua.activity_timestamp DESC LIMIT 1\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"List my stretching sessions [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'stretch | stretching') ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Tell me about my cold plunge [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity, ua.comments FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'cold & plunge') ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"What was my fastest paced run over 4 miles and when was it? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity, uad_dist.distance_in_meters, (uad_dur.duration_in_sec / 60.0) / (uad_dist.distance_in_meters / 1000.0) AS pace_min_per_km FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id JOIN user_activity_detail uad_dist ON ua.user_activity_id = uad_dist.user_activity_id AND uad_dist.activity_detail_type = 'distance' JOIN user_activity_detail uad_dur ON ua.user_activity_id = uad_dur.user_activity_id AND uad_dur.activity_detail_type = 'duration' WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'run') AND uad_dist.distance_in_meters > (4 * 1609.34) ORDER BY pace_min_per_km ASC LIMIT 1\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"How many sick days by year? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT EXTRACT(year FROM ua.activity_timestamp)::int AS year, COUNT(*)::int AS sick_days FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'sick') GROUP BY year ORDER BY year DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"What about in miles? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity, uad.distance_in_meters * 0.000621371 AS distance_miles FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id WHERE ua.user_id = 'abc-123' AND uad.activity_detail_type = 'distance' ORDER BY ua.activity_timestamp DESC LIMIT 1\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"How many alchemy classes per month have I done? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(date_trunc('month', ua.activity_timestamp), 'Mon YYYY') AS month, COUNT(*)::int AS count FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id WHERE ua.user_id = 'abc-123' AND (ua.activity_name_override ILIKE '%alchemy%' OR ua.comments ILIKE '%alchemy%') GROUP BY date_trunc('month', ua.activity_timestamp) ORDER BY date_trunc('month', ua.activity_timestamp) DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"When did I have my baby Toula? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, ua.activity_name_override, ua.comments FROM user_activity ua WHERE ua.user_id = 'abc-123' AND (ua.activity_name_override ILIKE '%baby%toula%' OR ua.comments ILIKE '%baby%toula%') ORDER BY ua.activity_timestamp DESC LIMIT 1\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Tell me about my skiing [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity, ua.comments FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'ski | skiing') ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"What places have I been to in 2025? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT DISTINCT uad.text_value AS location, to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date FROM user_activity ua JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id WHERE ua.user_id = 'abc-123' AND uad.activity_detail_type = 'location' AND EXTRACT(year FROM ua.activity_timestamp) = 2025 ORDER BY date DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Can you calculate my handicap based on my 9 or 18 hole golf rounds? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, uad_holes.numeric_value AS holes, uad_score.numeric_value AS score FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id JOIN user_activity_detail uad_holes ON ua.user_activity_id = uad_holes.user_activity_id AND uad_holes.label ILIKE '%hole%' JOIN user_activity_detail uad_score ON ua.user_activity_id = uad_score.user_activity_id AND uad_score.label ILIKE '%score%' WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'golf') ORDER BY ua.activity_timestamp DESC LIMIT 20\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"How many times did I swim this past year? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT COUNT(*)::int AS swim_count FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'swim') AND ua.activity_timestamp >= CURRENT_DATE - interval '1 year'\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Make a bar graph that shows the days of the week I've worked out for the last year [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Day') AS day_of_week, COUNT(*)::int AS count FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_category ac ON a.activity_category_id = ac.activity_category_id WHERE ua.user_id = 'abc-123' AND ac.activity_category_code = 'workouts' AND ua.activity_timestamp >= CURRENT_DATE - interval '1 year' GROUP BY day_of_week ORDER BY count DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"How many times has sex been logged on logly? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT COUNT(*)::int AS count FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'sex')\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Can you tell me about what others on logly are doing? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT 'I cannot share data about other users due to privacy restrictions.' AS error_message\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Summarize all of the types of HIIT workouts I've done [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT a.name AS workout_type, COUNT(*)::int AS count, MIN(ua.activity_timestamp) AS first_time, MAX(ua.activity_timestamp) AS last_time FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'hiit') GROUP BY a.name ORDER BY count DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"What's the average number of times per week I sit in the sauna and for how long? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT AVG(weekly.count)::numeric(10,2) AS avg_sessions_per_week, AVG(weekly.avg_duration)::numeric(10,2) AS avg_duration_sec FROM (SELECT date_trunc('week', ua.activity_timestamp) AS week, COUNT(*) AS count, AVG(uad.duration_in_sec) AS avg_duration FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'sauna') AND uad.activity_detail_type = 'duration' GROUP BY week) weekly\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Summarize my vacation locations for the year [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT uad.text_value AS location, COUNT(*)::int AS days_spent FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_category ac ON a.activity_category_id = ac.activity_category_id JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id WHERE ua.user_id = 'abc-123' AND ac.activity_category_code = 'experiences' AND uad.activity_detail_type = 'location' AND EXTRACT(year FROM ua.activity_timestamp) = EXTRACT(year FROM CURRENT_DATE) GROUP BY location ORDER BY days_spent DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Any causation or correlations you can find w my sick days? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS sick_date, LAG(a.name) OVER (ORDER BY ua.activity_timestamp) AS previous_activity, ua.comments FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'sick') ORDER BY ua.activity_timestamp DESC LIMIT 10\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Look at all my runs all time. find any over 4 miles. and tell me the fastest pace I logged [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, (uad_dur.duration_in_sec / 60.0) / (uad_dist.distance_in_meters / 1000.0) AS pace_min_per_km, uad_dist.distance_in_meters / 1609.34 AS miles FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id JOIN user_activity_detail uad_dist ON ua.user_activity_id = uad_dist.user_activity_id AND uad_dist.activity_detail_type = 'distance' JOIN user_activity_detail uad_dur ON ua.user_activity_id = uad_dur.user_activity_id AND uad_dur.activity_detail_type = 'duration' WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'run') AND uad_dist.distance_in_meters > (4 * 1609.34) ORDER BY pace_min_per_km ASC LIMIT 1\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"How many HIIT classes in Dec? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT COUNT(*)::int AS count FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'hiit') AND EXTRACT(month FROM ua.activity_timestamp) = 12 AND EXTRACT(year FROM ua.activity_timestamp) = EXTRACT(year FROM CURRENT_DATE)\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"How about Dec year over year comparison [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT EXTRACT(year FROM ua.activity_timestamp)::int AS year, COUNT(*)::int AS count FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'hiit') AND EXTRACT(month FROM ua.activity_timestamp) = 12 GROUP BY year ORDER BY year DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Give me sauna sessions by month for last two years [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(date_trunc('month', ua.activity_timestamp), 'Mon YYYY') AS month, COUNT(*)::int AS count FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'sauna') AND ua.activity_timestamp >= CURRENT_DATE - interval '2 years' GROUP BY date_trunc('month', ua.activity_timestamp) ORDER BY date_trunc('month', ua.activity_timestamp) DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"How many miles have I ran in the past year? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT SUM(uad.distance_in_meters * 0.000621371)::numeric(10,2) AS total_miles FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'run') AND uad.activity_detail_type = 'distance' AND ua.activity_timestamp >= CURRENT_DATE - interval '1 year'\"}"}]}
