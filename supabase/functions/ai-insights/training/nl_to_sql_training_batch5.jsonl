{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"What's my total activity count ever? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT COUNT(*)::int AS total_activities FROM user_activity ua WHERE ua.user_id = 'abc-123'\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Show my mountain biking rides [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity, ua.activity_name_override AS trail_name, ua.comments FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id WHERE ua.user_id = 'abc-123' AND (ae.fts @@ to_tsquery('english', 'mountain | mtb') OR ua.comments ILIKE '%mountain bike%') ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"How many times did I work out on weekdays vs weekends? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT CASE WHEN EXTRACT(dow FROM ua.activity_timestamp) IN (0, 6) THEN 'Weekend' ELSE 'Weekday' END AS day_type, COUNT(*)::int AS count FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_category ac ON a.activity_category_id = ac.activity_category_id WHERE ua.user_id = 'abc-123' AND ac.activity_category_code = 'workouts' GROUP BY CASE WHEN EXTRACT(dow FROM ua.activity_timestamp) IN (0, 6) THEN 'Weekend' ELSE 'Weekday' END\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"List my tricep exercises [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity, sa.name AS sub_activity FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN user_activity_sub_activity uasa ON ua.user_activity_id = uasa.user_activity_id JOIN sub_activity sa ON uasa.sub_activity_id = sa.sub_activity_id WHERE ua.user_id = 'abc-123' AND (sa.name ILIKE '%tricep%' OR sa.name ILIKE '%dip%' OR sa.name ILIKE '%pushdown%') ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"What's my favorite activity? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT a.name AS activity, COUNT(*)::int AS count FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id WHERE ua.user_id = 'abc-123' GROUP BY a.name ORDER BY count DESC LIMIT 1\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Show my bicep curl sessions [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity, sa.name AS sub_activity FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN user_activity_sub_activity uasa ON ua.user_activity_id = uasa.user_activity_id JOIN sub_activity sa ON uasa.sub_activity_id = sa.sub_activity_id WHERE ua.user_id = 'abc-123' AND (sa.name ILIKE '%bicep%' OR sa.name ILIKE '%curl%') ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"How many unique days did I log activities this year? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT COUNT(DISTINCT ua.activity_timestamp::date)::int AS unique_days FROM user_activity ua WHERE ua.user_id = 'abc-123' AND ua.activity_timestamp >= date_trunc('year', CURRENT_DATE)\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"What activities do I usually do on Sundays? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT a.name AS activity, COUNT(*)::int AS count FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id WHERE ua.user_id = 'abc-123' AND EXTRACT(dow FROM ua.activity_timestamp) = 0 GROUP BY a.name ORDER BY count DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"Show my trail running activities [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, a.name AS activity, ua.activity_name_override, ua.comments FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'run') AND (ua.comments ILIKE '%trail%' OR ua.activity_name_override ILIKE '%trail%') ORDER BY ua.activity_timestamp DESC\"}"}]}
{"messages":[{"role":"system","content":"You are an expert Postgres SQL generator. Convert natural language to SQL. Output ONLY valid JSON with a sqlQuery field."},{"role":"user","content":"What's my rowing distance trend over the past month? [user_id: abc-123]"},{"role":"assistant","content":"{\"sqlQuery\":\"SELECT to_char(ua.activity_timestamp, 'Mon DD, YYYY') AS date, uad.distance_in_meters AS distance_m FROM user_activity ua JOIN activity a ON ua.activity_id = a.activity_id JOIN activity_embedding ae ON a.activity_id = ae.activity_id JOIN user_activity_detail uad ON ua.user_activity_id = uad.user_activity_id WHERE ua.user_id = 'abc-123' AND ae.fts @@ to_tsquery('english', 'row | rowing') AND uad.activity_detail_type = 'distance' AND ua.activity_timestamp >= CURRENT_DATE - interval '30 days' ORDER BY ua.activity_timestamp\"}"}]}
